{"ast":null,"code":"import _classCallCheck from \"C:/Users/giovt/Desktop/crowdpulse old/CrowdPulse/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:/Users/giovt/Desktop/crowdpulse old/CrowdPulse/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"C:/Users/giovt/Desktop/crowdpulse old/CrowdPulse/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"C:/Users/giovt/Desktop/crowdpulse old/CrowdPulse/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"C:/Users/giovt/Desktop/crowdpulse old/CrowdPulse/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";\nvar _jsxFileName = \"C:\\\\Users\\\\giovt\\\\Desktop\\\\crowdpulse old\\\\CrowdPulse\\\\frontend\\\\src\\\\components\\\\Filters\\\\SentimentFilters.js\";\nimport axios from 'axios';\nimport SearchFilters from './SearchFilters';\nimport React from 'react';\nimport SearchText from './SearchText';\nimport SearchHashtag from './SearchHashtag';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nvar Filters = /*#__PURE__*/function (_React$Component) {\n  _inherits(Filters, _React$Component);\n\n  var _super = _createSuper(Filters);\n\n  function Filters(props) {\n    var _this;\n\n    _classCallCheck(this, Filters);\n\n    _this = _super.call(this, props);\n\n    _this.getSentimentData = function (data) {\n      var negative = 0;\n      var positive = 0;\n      var neutral = 0;\n      var i = 0;\n      var joy = 0;\n      var anger = 0;\n      var sadness = 0;\n      var fear = 0;\n      _this.state.totalTweets = data.length;\n      var feelCounter = [];\n\n      while (i < data.length) {\n        if (data[i].sentiment !== undefined) {\n          if (data[i].sentiment['sent-it'] !== undefined) {\n            if (data[i].sentiment['sent-it'].sentiment === 'negative') negative++;else if (data[i].sentiment['sent-it'].sentiment === 'positive') positive++;else neutral++;\n          }\n        }\n\n        i++;\n      }\n\n      i = 0;\n\n      while (i < data.length) {\n        if (data[i].sentiment !== undefined) {\n          if (data[i].sentiment['feel-it'] !== undefined) {\n            if (data[i].sentiment['feel-it'].sentiment === 'negative') negative++;else if (data[i].sentiment['feel-it'].sentiment === 'positive') positive++;else neutral++; //Get Emotion\n\n            if (data[i].sentiment['feel-it'].emotion === 'joy') {\n              joy++;\n            } else if (data[i].sentiment['feel-it'].emotion === 'anger') {\n              anger++;\n            } else if (data[i].sentiment['feel-it'].emotion === 'sadness') {\n              sadness++;\n            } else if (data[i].sentiment['feel-it'].emotion === 'fear') {\n              fear++;\n            }\n          }\n        }\n\n        i++;\n      }\n\n      feelCounter = {\n        joy: joy,\n        sadness: sadness,\n        anger: anger,\n        fear: fear\n      };\n      var tempCounter = {\n        positive: positive,\n        negative: negative,\n        neutral: neutral\n      };\n\n      _this.setState({\n        counter: tempCounter\n      });\n\n      _this.state.counter = tempCounter;\n\n      _this.setState({\n        feelCounter: feelCounter\n      });\n\n      _this.state.feelCounter = feelCounter;\n\n      _this.setState({\n        data: data\n      });\n\n      _this.state.data = data;\n\n      _this.setState({\n        oldData: data\n      });\n\n      _this.state.oldData = data;\n      var dataFeelGroupByDates = [{\n        id: null,\n        counterPositive: null,\n        counterNegative: null,\n        counterNeutral: null\n      }];\n      var dataSentGroupByDates = [{\n        id: null,\n        counterPositive: null,\n        counterNegative: null,\n        counterNeutral: null\n      }];\n      var dataGroupByDates = [{\n        id: null,\n        counterPositive: null,\n        counterNegative: null,\n        counterNeutral: null\n      }];\n      var arrayDates = []; //storing all dates for final counter\n      //MultiLine Charts\n\n      var j = 0;\n\n      if (_this.state.data.length !== 0) {\n        //var i =this.state.data.length-1;\n        var i = 0;\n\n        var dt = _this.state.data[i].created_at.substring(0, 10);\n\n        dataGroupByDates[0].id = dt;\n        i++;\n\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].sentiment !== undefined) {\n            if (_this.state.data[i].sentiment['feel-it'] !== undefined) {\n              if (dataFeelGroupByDates[j].id === _this.state.data[i].created_at.substring(0, 10)) {\n                if (_this.state.data[i].sentiment['feel-it'].sentiment === 'positive') {\n                  dataFeelGroupByDates[j].counterPositive++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'negative') {\n                  dataFeelGroupByDates[j].counterNegative++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'neutral') {\n                  dataFeelGroupByDates[j].counterNeutral++;\n                }\n              } else {\n                arrayDates.push(_this.state.data[i].created_at.substring(0, 10));\n                j++;\n                dataFeelGroupByDates.push({\n                  id: _this.state.data[i].created_at.substring(0, 10),\n                  counterPositive: 0,\n                  counterNegative: 0,\n                  counterNeutral: 0\n                });\n\n                if (_this.state.data[i].sentiment['feel-it'].sentiment === 'positive') {\n                  dataFeelGroupByDates[j].counterPositive++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'negative') {\n                  dataFeelGroupByDates[j].counterNegative++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'neutral') {\n                  dataFeelGroupByDates[j].counterNeutral++;\n                }\n              }\n            } //Count Sent-it\n\n\n            if (_this.state.data[i].sentiment['sent-it'] !== undefined) {\n              if (dataSentGroupByDates[j].id === _this.state.data[i].created_at.substring(0, 10)) {\n                if (_this.state.data[i].sentiment['sent-it'].sentiment === 'positive') {\n                  dataSentGroupByDates[j].counterPositive++;\n                } else if (_this.state.data[i].sentiment['sent-it'].sentiment === 'negative') {\n                  dataSentGroupByDates[j].counterNegative++;\n                } else if (_this.state.data[i].sentiment['sent-it'].sentiment === 'neutral') {\n                  dataSentGroupByDates[j].counterNeutral++;\n                }\n              } else {\n                dataSentGroupByDates.push({\n                  id: _this.state.data[i].created_at.substring(0, 10),\n                  counterPositive: 0,\n                  counterNegative: 0,\n                  counterNeutral: 0\n                });\n                j++;\n\n                if (_this.state.data[i].sentiment['sent-it'].sentiment === 'positive') {\n                  dataSentGroupByDates[j].counterPositive++;\n                } else if (_this.state.data[i].sentiment['sent-it'].sentiment === 'negative') {\n                  dataSentGroupByDates[j].counterNegative++;\n                } else if (_this.state.data[i].sentiment['sent-it'].sentiment === 'neutral') {\n                  dataSentGroupByDates[j].counterNeutral++;\n                }\n              }\n            }\n          }\n\n          i++;\n        }\n      } //ALL Sentiment Counters\n\n\n      var k = 0;\n      i = 0;\n      j = 0;\n      dataFeelGroupByDates.shift();\n      dataSentGroupByDates.shift();\n      console.log(arrayDates);\n\n      while (k < arrayDates.length - 1) {\n        dataGroupByDates.push({\n          id: arrayDates[k],\n          counterPositive: 0,\n          counterNegative: 0,\n          counterNeutral: 0\n        });\n\n        if (dataFeelGroupByDates[i] !== undefined) {\n          if (dataFeelGroupByDates[i].id === arrayDates[k]) {\n            dataGroupByDates[k].counterPositive = dataGroupByDates[k].counterPositive + dataFeelGroupByDates[i].counterPositive;\n            dataGroupByDates[k].counterNegative = dataGroupByDates[k].counterNegative + dataFeelGroupByDates[i].counterNegative;\n            dataGroupByDates[k].counterNeutral = dataGroupByDates[k].counterNeutral + dataFeelGroupByDates[i].counterNeutral;\n            i++;\n          }\n        }\n\n        if (dataSentGroupByDates[j] !== undefined) {\n          if (dataSentGroupByDates[j].id === arrayDates[k]) {\n            dataGroupByDates[k].counterPositive = dataGroupByDates[k].counterPositive + dataSentGroupByDates[j].counterPositive;\n            dataGroupByDates[k].counterNegative = dataGroupByDates[k].counterNegative + dataSentGroupByDates[i].counterNegative;\n            dataGroupByDates[k].counterNeutral = dataGroupByDates[k].counterNeutral + dataSentGroupByDates[i].counterNeutral;\n            j++;\n          }\n        }\n\n        k++;\n      }\n\n      _this.setState({\n        dataGroupByDates: dataGroupByDates\n      });\n\n      _this.state.dataGroupByDates = dataGroupByDates;\n\n      _this.sendData();\n    };\n\n    _this.handleFromDatesChanges = function (event) {\n      if (event.target.value !== \"\") {\n        _this.state.fromDate = event.target.value;\n\n        if (_this.state.data.length === 0) {\n          _this.state.data = _this.state.oldData;\n\n          _this.filterDataByDates();\n\n          _this.resetFilter();\n        } else {\n          _this.filterDataByDates();\n        }\n      } else {\n        _this.resetFilter();\n      }\n    };\n\n    _this.handleToDatesChanges = function (event) {\n      if (event.target.value !== \"\") {\n        _this.state.toDate = event.target.value;\n\n        if (_this.state.data.length === 0) {\n          _this.state.data = _this.state.oldData;\n\n          _this.filterDataByDates();\n\n          _this.resetFilter();\n        } else {\n          _this.filterDataByDates();\n        }\n      } else {\n        _this.resetFilter();\n      }\n    };\n\n    _this.filterDataByDates = function () {\n      var tempData = [];\n      var i = 0;\n      var j = 0;\n\n      if (_this.state.fromDate === null) {\n        //fromdate Null\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].created_at < _this.state.toDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          } else if (_this.state.data[i].created_at < _this.state.toDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          } else if (_this.state.data[i].created_at < _this.state.toDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          }\n\n          i++;\n        }\n\n        _this.state.data = tempData; //set Data\n      } else if (_this.state.toDate === null) {\n        //todate Null                           \n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].created_at > _this.state.fromDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          } else if (_this.state.data[i].created_at > _this.state.fromDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          } else if (_this.state.data[i].created_at > _this.state.fromDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          }\n\n          i++;\n        }\n\n        _this.state.data = tempData; //save filtered datas\n      } else if (_this.state.fromDate !== null && _this.state.fromDate !== null) {\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].created_at > _this.state.fromDate && _this.state.data[i].created_at < _this.state.toDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          } else if (_this.state.data[i].created_at > _this.state.fromDate && _this.state.data[i].created_at < _this.state.toDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          } else if (_this.state.data[i].created_at > _this.state.fromDate && _this.state.data[i].created_at < _this.state.toDate) {\n            tempData[j] = _this.state.data[i];\n            j++;\n          }\n\n          i++;\n        }\n\n        _this.state.data = tempData; //set Data\n      }\n\n      _this.handleQuery();\n    };\n\n    _this.handleCategory = function (event) {\n      _this.state.flagType = event.target.value;\n\n      _this.handleQuery();\n    };\n\n    _this.handleTags = function (tags) {\n      if (tags.length > _this.state.tags.length) {\n        _this.state.tags = tags;\n\n        _this.filterByTags(tags);\n\n        _this.handleQuery();\n      } else {\n        _this.state.tags = tags;\n\n        _this.resetFilter();\n      }\n    };\n\n    _this.filterByTags = function (tags) {\n      var i = 0;\n      var j = 0;\n      var k = 0;\n      var z = 0;\n      var temp;\n      var tempData = [];\n      var flag = false; //this.setState({oldData: this.state.data}) //save last data state\n\n      while (i < _this.state.data.length) {\n        j = 0;\n\n        if (_this.state.data[i].tags !== undefined) {\n          while (j < _this.state.data[i].tags.tag_me.length) {\n            temp = _this.state.data[i].tags.tag_me[j].split(\" : \");\n\n            while (k < tags.length) {\n              if (temp.some(function (a) {\n                return a.includes(tags[k].name);\n              }) === true) {\n                flag = true;\n              } else {\n                flag = false;\n              }\n\n              k++;\n            }\n\n            if (flag === true) {\n              tempData[z] = _this.state.data[i];\n              z++;\n            }\n\n            k = 0;\n            j++;\n          }\n        }\n\n        i++;\n      }\n\n      _this.state.data = tempData; //set Data\n    };\n\n    _this.handleText = function (text) {\n      if (text.length > _this.state.text.length) {\n        _this.state.text = text;\n\n        _this.filterByText(text);\n\n        _this.handleQuery();\n      } else {\n        _this.state.text = text;\n\n        _this.resetFilter();\n      }\n    };\n\n    _this.filterByText = function (text) {\n      var i = 0;\n      var j = 0;\n      var k = 0;\n      var z = 0;\n      var temp;\n      var tempData = [];\n      var flag = false;\n\n      while (i < _this.state.data.length) {\n        j = 0;\n\n        if (_this.state.data[i].spacy !== undefined) {\n          while (j < _this.state.data[i].spacy.processed_text.length) {\n            temp = _this.state.data[i].spacy.processed_text[j].split(\" \");\n\n            while (k < text.length) {\n              if (temp.some(function (a) {\n                return a.includes(text[k].name);\n              }) === true) {\n                flag = true;\n              } else {\n                flag = false;\n              }\n\n              k++;\n            }\n\n            if (flag === true) {\n              tempData[z] = _this.state.data[i];\n              z++;\n            }\n\n            k = 0;\n            j++;\n          }\n        }\n\n        i++;\n      }\n\n      _this.state.data = tempData;\n      _this.state.totalTweets = tempData.length;\n    };\n\n    _this.handleHashtags = function (hashtags) {\n      if (hashtags.length > _this.state.hashtags.length) {\n        _this.state.hashtags = hashtags;\n\n        _this.filterByHashtags(hashtags);\n\n        _this.handleQuery();\n      } else {\n        _this.state.hashtags = hashtags;\n\n        _this.resetFilter();\n      }\n    };\n\n    _this.filterByHashtags = function (hashtags) {\n      var i = 0;\n      var j = 0;\n      var k = 0;\n      var z = 0;\n      var temp;\n      var tempData = [];\n      var flag = false;\n\n      while (i < _this.state.data.length) {\n        j = 0;\n\n        if (_this.state.data[i].twitter_entities !== undefined) {\n          if (_this.state.data[i].twitter_entities.hashtags !== undefined) {\n            while (j < _this.state.data[i].twitter_entities.hashtags.length) {\n              temp = _this.state.data[i].twitter_entities.hashtags[j];\n\n              while (k < hashtags.length) {\n                if (temp === hashtags[k].name) {\n                  flag = true;\n                } else {\n                  flag = false;\n                }\n\n                k++;\n              }\n\n              if (flag === true) {\n                tempData[z] = _this.state.data[i];\n                z++;\n              }\n\n              k = 0;\n              j++;\n            }\n          }\n        }\n\n        i++;\n      }\n\n      _this.state.data = tempData;\n      _this.state.totalTweets = tempData.length;\n    };\n\n    _this.handleQuery = function () {\n      if (_this.state.data.length === 0) {\n        var tempCounter = {\n          positive: 0,\n          negative: 0,\n          neutral: 0\n        };\n        _this.state.totalTweets = 0;\n        _this.state.counter = tempCounter; //reset counter\n\n        _this.sendData();\n      } else {\n        _this.state.totalTweets = _this.state.data.length;\n\n        _this.query();\n      }\n    };\n\n    _this.query = function () {\n      var negative = 0;\n      var positive = 0;\n      var neutral = 0;\n      var joy = 0;\n      var sadness = 0;\n      var anger = 0;\n      var fear = 0;\n      var i = 0;\n      var tempCounter;\n      var feelCounter;\n\n      if (_this.state.flagType === 0 || _this.state.flagType === '0') {\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].sentiment !== undefined) {\n            if (_this.state.data[i].sentiment['sent-it'] !== undefined) {\n              if (_this.state.data[i].sentiment['sent-it'].sentiment === 'negative') negative++;else if (_this.state.data[i].sentiment['sent-it'].sentiment === 'positive') positive++;else neutral++;\n            }\n          }\n\n          i++;\n        }\n\n        i = 0;\n\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].sentiment !== undefined) {\n            if (_this.state.data[i].sentiment['feel-it'] !== undefined) {\n              if (_this.state.data[i].sentiment['feel-it'].sentiment === 'negative') negative++;else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'positive') positive++;else neutral++;\n            }\n          }\n\n          i++;\n        }\n\n        tempCounter = {\n          positive: positive,\n          negative: negative,\n          neutral: neutral\n        };\n      } else if (_this.state.flagType === 1 || _this.state.flagType === '1') {\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].sentiment !== undefined) {\n            if (_this.state.data[i].sentiment['sent-it'] !== undefined) {\n              if (_this.state.data[i].sentiment['sent-it'].sentiment === 'negative') negative++;else if (_this.state.data[i].sentiment['sent-it'].sentiment === 'positive') positive++;else neutral++;\n            }\n          }\n\n          i++;\n        }\n\n        tempCounter = {\n          positive: positive,\n          negative: negative,\n          neutral: neutral\n        };\n      } else {\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].sentiment !== undefined) {\n            if (_this.state.data[i].sentiment['feel-it'] !== undefined) {\n              if (_this.state.data[i].sentiment['feel-it'].sentiment === 'negative') negative++;else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'positive') positive++;else neutral++;\n            } //Get Emotion\n\n\n            if (_this.state.data[i].sentiment['feel-it'].emotion === 'joy') {\n              joy++;\n            } else if (_this.state.data[i].sentiment['feel-it'].emotion === 'anger') {\n              anger++;\n            } else if (_this.state.data[i].sentiment['feel-it'].emotion === 'sadness') {\n              sadness++;\n            } else if (_this.state.data[i].sentiment['feel-it'].emotion === 'fear') {\n              fear++;\n            }\n          }\n\n          i++;\n        }\n\n        feelCounter = {\n          joy: joy,\n          sadness: sadness,\n          anger: anger,\n          fear: fear\n        };\n        tempCounter = {\n          positive: positive,\n          negative: negative,\n          neutral: neutral\n        };\n      }\n\n      _this.state.counter = tempCounter;\n      _this.state.feelCounter = feelCounter;\n      var dataGroupByDates = [{\n        id: null,\n        counterPositive: null,\n        counterNegative: null,\n        counterNeutral: null\n      }];\n      var j = 0;\n\n      if (_this.state.data.length !== 0) {\n        var i = 0;\n\n        var dt = _this.state.data[i].created_at.substring(0, 10);\n\n        dataGroupByDates[0].id = dt;\n        i++;\n\n        while (i < _this.state.data.length) {\n          if (_this.state.data[i].sentiment !== undefined) {\n            if (_this.state.data[i].sentiment['feel-it'] !== undefined) {\n              if (dataGroupByDates[j].id === _this.state.data[i].created_at.substring(0, 10)) {\n                if (_this.state.data[i].sentiment['feel-it'].sentiment === 'positive') {\n                  dataGroupByDates[j].counterPositive++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'negative') {\n                  dataGroupByDates[j].counterNegative++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'neutral') {\n                  dataGroupByDates[j].counterNeutral++;\n                }\n              } else {\n                j++;\n                dataGroupByDates.push({\n                  id: _this.state.data[i].created_at.substring(0, 10),\n                  counterPositive: 0,\n                  counterNegative: 0,\n                  counterNeutral: 0\n                });\n\n                if (_this.state.data[i].sentiment['feel-it'].sentiment === 'positive') {\n                  dataGroupByDates[j].counterPositive++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'negative') {\n                  dataGroupByDates[j].counterNegative++;\n                } else if (_this.state.data[i].sentiment['feel-it'].sentiment === 'neutral') {\n                  dataGroupByDates[j].counterNeutral++;\n                }\n              }\n            }\n          }\n\n          i++;\n        }\n      }\n\n      _this.setState({\n        dataGroupByDates: dataGroupByDates\n      });\n\n      _this.state.dataGroupByDates = dataGroupByDates;\n\n      _this.sendData();\n    };\n\n    _this.resetFilter = function () {\n      _this.state.data = _this.state.oldData;\n\n      if (_this.state.fromDate !== null || _this.state.toDate !== null) {\n        _this.filterDataByDates();\n      }\n\n      if (_this.state.tags.length !== 0) {\n        _this.filterByTags(_this.state.tags);\n      }\n\n      if (_this.state.hashtags.length !== 0) {\n        _this.filterByHashtags(_this.state.hashtags);\n      }\n\n      if (_this.state.text.length !== 0) {\n        _this.filterByText(_this.state.text);\n      }\n\n      _this.handleQuery();\n    };\n\n    _this.sendData = function () {\n      _this.props.parentCallback(_this.state.dataGroupByDates, _this.state.counter, _this.state.flagType, _this.state.feelCounter);\n    };\n\n    _this.sendData = _this.sendData.bind(_assertThisInitialized(_this));\n    _this.state = {\n      totalTweets: 0,\n      flagType: 0,\n      counter: [],\n      feelCounter: [],\n      oldData: [],\n      data: [],\n      tags: [],\n      text: [],\n      hashtags: [],\n      dataGroupByDates: [],\n      fromDate: null,\n      toDate: null\n    };\n\n    _this.getSentimentData(_this.props.tweetsData.dataSortByDate.data);\n\n    return _this;\n  }\n\n  _createClass(Filters, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.mongodb !== this.props.mongodb) {\n        this.getSentimentData(this.props.tweetsData.dataTweet.data);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row stat-cards\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col-xl-4\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"stat-cards-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"Algorithm\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 816,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 816,\n                        columnNumber: 51\n                      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                        id: \"sel1\",\n                        onChange: this.handleCategory,\n                        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"0\",\n                          children: \"All\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 818,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"1\",\n                          children: \"Sent-it\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 819,\n                          columnNumber: 29\n                        }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                          value: \"2\",\n                          children: \"Feel-it\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 820,\n                          columnNumber: 29\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 817,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 816,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 815,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 814,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 813,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 812,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-6 col-xl-6\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"stat-cards-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"From \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 838,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 838,\n                        columnNumber: 47\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        name: \"startDate\",\n                        onBlur: this.handleFromDatesChanges\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 839,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 838,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 837,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-6\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"To \"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 849,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 849,\n                        columnNumber: 45\n                      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                        type: \"date\",\n                        id: \"toDate\",\n                        onBlur: this.handleToDatesChanges\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 850,\n                        columnNumber: 27\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 849,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 848,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 847,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 835,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 834,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 833,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-2 col-xl-2\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"stat-cards-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 col-xl-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"Total Tweets\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 866,\n                        columnNumber: 33\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 866,\n                        columnNumber: 54\n                      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n                        children: [\" \", this.state.totalTweets, \" \"]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 867,\n                        columnNumber: 28\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 866,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 865,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 864,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 863,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 862,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 861,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 879,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"row stat-cards\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col-xl-4\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"stat-cards-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 col-xl-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"Tags\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 887,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 887,\n                        columnNumber: 44\n                      }, this), /*#__PURE__*/_jsxDEV(SearchFilters, {\n                        parentCallback: this.handleTags.bind(this),\n                        db: this.props.db,\n                        allTags: this.props.tweetsData.dataTags\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 888,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 887,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 886,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 885,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 883,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 882,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 881,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col-xl-4\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"stat-cards-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 col-xl-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"Processed Text\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 906,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 906,\n                        columnNumber: 54\n                      }, this), /*#__PURE__*/_jsxDEV(SearchText, {\n                        parentCallback: this.handleText.bind(this),\n                        db: this.props.db,\n                        allText: this.props.tweetsData.dataText\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 907,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 906,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 905,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 904,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 902,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 901,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 900,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"col-md-4 col-xl-4\",\n            children: /*#__PURE__*/_jsxDEV(\"article\", {\n              className: \"stat-cards-item\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"row\",\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"col-md-12 col-xl-12\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"stat-cards-info\",\n                    children: /*#__PURE__*/_jsxDEV(\"center\", {\n                      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                        children: \"Hashtags\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 925,\n                        columnNumber: 31\n                      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 925,\n                        columnNumber: 48\n                      }, this), /*#__PURE__*/_jsxDEV(SearchHashtag, {\n                        parentCallback: this.handleHashtags.bind(this),\n                        db: this.props.db,\n                        allHashtags: this.props.tweetsData.dataHashtags\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 926,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 925,\n                      columnNumber: 23\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 924,\n                    columnNumber: 21\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 923,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 880,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true);\n    }\n  }]);\n\n  return Filters;\n}(React.Component);\n\nexport default Filters;","map":{"version":3,"sources":["C:/Users/giovt/Desktop/crowdpulse old/CrowdPulse/frontend/src/components/Filters/SentimentFilters.js"],"names":["axios","SearchFilters","React","SearchText","SearchHashtag","Filters","props","getSentimentData","data","negative","positive","neutral","i","joy","anger","sadness","fear","state","totalTweets","length","feelCounter","sentiment","undefined","emotion","tempCounter","setState","counter","oldData","dataFeelGroupByDates","id","counterPositive","counterNegative","counterNeutral","dataSentGroupByDates","dataGroupByDates","arrayDates","j","dt","created_at","substring","push","k","shift","console","log","sendData","handleFromDatesChanges","event","target","value","fromDate","filterDataByDates","resetFilter","handleToDatesChanges","toDate","tempData","handleQuery","handleCategory","flagType","handleTags","tags","filterByTags","z","temp","flag","tag_me","split","some","a","includes","name","handleText","text","filterByText","spacy","processed_text","handleHashtags","hashtags","filterByHashtags","twitter_entities","query","parentCallback","bind","tweetsData","dataSortByDate","prevProps","mongodb","dataTweet","db","dataTags","dataText","dataHashtags","Component"],"mappings":";;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,aAAP,MAA0B,iBAA1B;;;;IAEMC,O;;;;;AACF,mBAAaC,KAAb,EAAoB;AAAA;;AAAA;;AAChB,8BAAMA,KAAN;;AADgB,UA+BpBC,gBA/BoB,GA+BD,UAACC,IAAD,EAAU;AAGvB,UAAIC,QAAQ,GAAG,CAAf;AACA,UAAIC,QAAQ,GAAG,CAAf;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIC,CAAC,GAAC,CAAN;AACA,UAAIC,GAAG,GAAE,CAAT;AACA,UAAIC,KAAK,GAAG,CAAZ;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIC,IAAI,GAAE,CAAV;AACA,YAAKC,KAAL,CAAWC,WAAX,GAAyBV,IAAI,CAACW,MAA9B;AACA,UAAIC,WAAW,GAAG,EAAlB;;AACA,aAAMR,CAAC,GAACJ,IAAI,CAACW,MAAb,EAAoB;AAClB,YAAGX,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,KAAoBC,SAAvB,EAAiC;AAC/B,cAAGd,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,MAA+BC,SAAlC,EAA4C;AAC1C,gBAAId,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BA,SAA7B,KAAyC,UAA7C,EACEZ,QAAQ,GADV,KAEK,IAAID,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BA,SAA7B,KAAyC,UAA7C,EACHX,QAAQ,GADL,KAGLC,OAAO;AACR;AACF;;AAECC,QAAAA,CAAC;AACJ;;AACDA,MAAAA,CAAC,GAAC,CAAF;;AACA,aAAMA,CAAC,GAACJ,IAAI,CAACW,MAAb,EAAoB;AAClB,YAAGX,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,KAAoBC,SAAvB,EAAiC;AAC/B,cAAGd,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,MAA+BC,SAAlC,EAA4C;AAC1C,gBAAId,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BA,SAA7B,KAAyC,UAA7C,EACEZ,QAAQ,GADV,KAEK,IAAID,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BA,SAA7B,KAAyC,UAA7C,EACHX,QAAQ,GADL,KAGLC,OAAO,GANmC,CAS7C;;AAEG,gBAAGH,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BE,OAA7B,KAAuC,KAA1C,EAAgD;AAC9CV,cAAAA,GAAG;AACJ,aAFD,MAEM,IAAGL,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BE,OAA7B,KAAuC,OAA1C,EAAkD;AACtDT,cAAAA,KAAK;AACN,aAFK,MAEA,IAAGN,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BE,OAA7B,KAAuC,SAA1C,EAAoD;AACxDR,cAAAA,OAAO;AACR,aAFK,MAEA,IAAGP,IAAI,CAACI,CAAD,CAAJ,CAAQS,SAAR,CAAkB,SAAlB,EAA6BE,OAA7B,KAAuC,MAA1C,EAAiD;AACrDP,cAAAA,IAAI;AACL;AACF;AACJ;;AAGDJ,QAAAA,CAAC;AACF;;AAGDQ,MAAAA,WAAW,GAAG;AACZP,QAAAA,GAAG,EAAEA,GADO;AAEZE,QAAAA,OAAO,EAAEA,OAFG;AAGZD,QAAAA,KAAK,EAAEA,KAHK;AAIZE,QAAAA,IAAI,EAAGA;AAJK,OAAd;AAQE,UAAIQ,WAAW,GAAG;AACdd,QAAAA,QAAQ,EAAEA,QADI;AAEdD,QAAAA,QAAQ,EAAEA,QAFI;AAGdE,QAAAA,OAAO,EAAEA;AAHK,OAAlB;;AAOA,YAAKc,QAAL,CAAc;AAAEC,QAAAA,OAAO,EAAEF;AAAX,OAAd;;AACA,YAAKP,KAAL,CAAWS,OAAX,GAAqBF,WAArB;;AACA,YAAKC,QAAL,CAAc;AAAEL,QAAAA,WAAW,EAAEA;AAAf,OAAd;;AACA,YAAKH,KAAL,CAAWG,WAAX,GAAyBA,WAAzB;;AACA,YAAKK,QAAL,CAAc;AAACjB,QAAAA,IAAI,EAAGA;AAAR,OAAd;;AACA,YAAKS,KAAL,CAAWT,IAAX,GAAkBA,IAAlB;;AACA,YAAKiB,QAAL,CAAc;AAACE,QAAAA,OAAO,EAAGnB;AAAX,OAAd;;AACA,YAAKS,KAAL,CAAWU,OAAX,GAAqBnB,IAArB;AAIA,UAAIoB,oBAAoB,GAAC,CAAC;AACxBC,QAAAA,EAAE,EAAC,IADqB;AAExBC,QAAAA,eAAe,EAAC,IAFQ;AAGxBC,QAAAA,eAAe,EAAC,IAHQ;AAIxBC,QAAAA,cAAc,EAAC;AAJS,OAAD,CAAzB;AAOA,UAAIC,oBAAoB,GAAC,CAAC;AACxBJ,QAAAA,EAAE,EAAC,IADqB;AAExBC,QAAAA,eAAe,EAAC,IAFQ;AAGxBC,QAAAA,eAAe,EAAC,IAHQ;AAIxBC,QAAAA,cAAc,EAAC;AAJS,OAAD,CAAzB;AAOA,UAAIE,gBAAgB,GAAC,CAAC;AACpBL,QAAAA,EAAE,EAAC,IADiB;AAEpBC,QAAAA,eAAe,EAAC,IAFI;AAGpBC,QAAAA,eAAe,EAAC,IAHI;AAIpBC,QAAAA,cAAc,EAAC;AAJK,OAAD,CAArB;AAOA,UAAIG,UAAU,GAAG,EAAjB,CAzGuB,CAyGF;AAIrB;;AAEA,UAAIC,CAAC,GAAG,CAAR;;AAEA,UAAG,MAAKnB,KAAL,CAAWT,IAAX,CAAgBW,MAAhB,KAAyB,CAA5B,EAA8B;AAC5B;AACA,YAAIP,CAAC,GAAE,CAAP;;AACA,YAAIyB,EAAE,GAAG,MAAKpB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CAAT;;AACAL,QAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBL,EAApB,GAAuBQ,EAAvB;AACAzB,QAAAA,CAAC;;AACD,eAAMA,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAE7B,cAAG,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,KAA+BC,SAAlC,EAA4C;AAC1C,gBAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AAErD,kBAAGM,oBAAoB,CAACQ,CAAD,CAApB,CAAwBP,EAAxB,KAA6B,MAAKZ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CAAhC,EAA+E;AAC7E,oBAAI,MAAKtB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACjEO,kBAAAA,oBAAoB,CAACQ,CAAD,CAApB,CAAwBN,eAAxB;AACD,iBAFD,MAEM,IAAI,MAAKb,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACvEO,kBAAAA,oBAAoB,CAACQ,CAAD,CAApB,CAAwBL,eAAxB;AACD,iBAFK,MAEA,IAAI,MAAKd,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,SAAxD,EAAkE;AACtEO,kBAAAA,oBAAoB,CAACQ,CAAD,CAApB,CAAwBJ,cAAxB;AACD;AAEF,eATD,MASK;AACHG,gBAAAA,UAAU,CAACK,IAAX,CAAgB,MAAKvB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CAAhB;AACAH,gBAAAA,CAAC;AACDR,gBAAAA,oBAAoB,CAACY,IAArB,CAA0B;AACxBX,kBAAAA,EAAE,EAAC,MAAKZ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CADqB;AAExBT,kBAAAA,eAAe,EAAC,CAFQ;AAGxBC,kBAAAA,eAAe,EAAC,CAHQ;AAIxBC,kBAAAA,cAAc,EAAC;AAJS,iBAA1B;;AAOA,oBAAI,MAAKf,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACjEO,kBAAAA,oBAAoB,CAACQ,CAAD,CAApB,CAAwBN,eAAxB;AACD,iBAFD,MAEM,IAAI,MAAKb,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACvEO,kBAAAA,oBAAoB,CAACQ,CAAD,CAApB,CAAwBL,eAAxB;AACD,iBAFK,MAEA,IAAI,MAAKd,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,SAAxD,EAAkE;AACtEO,kBAAAA,oBAAoB,CAACQ,CAAD,CAApB,CAAwBJ,cAAxB;AACD;AACF;AACF,aA9ByC,CAgC1C;;;AACA,gBAAG,MAAKf,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AAErD,kBAAGW,oBAAoB,CAACG,CAAD,CAApB,CAAwBP,EAAxB,KAA6B,MAAKZ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CAAhC,EAA+E;AAC7E,oBAAI,MAAKtB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACjEY,kBAAAA,oBAAoB,CAACG,CAAD,CAApB,CAAwBN,eAAxB;AACD,iBAFD,MAEM,IAAI,MAAKb,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACvEY,kBAAAA,oBAAoB,CAACG,CAAD,CAApB,CAAwBL,eAAxB;AACD,iBAFK,MAEA,IAAI,MAAKd,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,SAAxD,EAAkE;AACtEY,kBAAAA,oBAAoB,CAACG,CAAD,CAApB,CAAwBJ,cAAxB;AACD;AAEF,eATD,MASK;AAEHC,gBAAAA,oBAAoB,CAACO,IAArB,CAA0B;AACxBX,kBAAAA,EAAE,EAAC,MAAKZ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CADqB;AAExBT,kBAAAA,eAAe,EAAC,CAFQ;AAGxBC,kBAAAA,eAAe,EAAC,CAHQ;AAIxBC,kBAAAA,cAAc,EAAC;AAJS,iBAA1B;AAMAI,gBAAAA,CAAC;;AACD,oBAAG,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAvD,EAAkE;AAChEY,kBAAAA,oBAAoB,CAACG,CAAD,CAApB,CAAwBN,eAAxB;AACD,iBAFD,MAEM,IAAI,MAAKb,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACvEY,kBAAAA,oBAAoB,CAACG,CAAD,CAApB,CAAwBL,eAAxB;AACD,iBAFK,MAEA,IAAI,MAAKd,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,SAAxD,EAAkE;AACtEY,kBAAAA,oBAAoB,CAACG,CAAD,CAApB,CAAwBJ,cAAxB;AACD;AACF;AACF;AAEF;;AACDpB,UAAAA,CAAC;AACF;AAEF,OA5LsB,CAgMvB;;;AACA,UAAI6B,CAAC,GAAE,CAAP;AACA7B,MAAAA,CAAC,GAAC,CAAF;AACAwB,MAAAA,CAAC,GAAC,CAAF;AACAR,MAAAA,oBAAoB,CAACc,KAArB;AACAT,MAAAA,oBAAoB,CAACS,KAArB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYT,UAAZ;;AACA,aAAMM,CAAC,GAACN,UAAU,CAAChB,MAAX,GAAkB,CAA1B,EAA4B;AAC1Be,QAAAA,gBAAgB,CAACM,IAAjB,CAAsB;AACpBX,UAAAA,EAAE,EAACM,UAAU,CAACM,CAAD,CADO;AAEpBX,UAAAA,eAAe,EAAC,CAFI;AAGpBC,UAAAA,eAAe,EAAC,CAHI;AAIpBC,UAAAA,cAAc,EAAC;AAJK,SAAtB;;AAMA,YAAGJ,oBAAoB,CAAChB,CAAD,CAApB,KAA0BU,SAA7B,EAAuC;AACtC,cAAGM,oBAAoB,CAAChB,CAAD,CAApB,CAAwBiB,EAAxB,KAA6BM,UAAU,CAACM,CAAD,CAA1C,EAA8C;AAC3CP,YAAAA,gBAAgB,CAACO,CAAD,CAAhB,CAAoBX,eAApB,GAAsCI,gBAAgB,CAACO,CAAD,CAAhB,CAAoBX,eAApB,GAAsCF,oBAAoB,CAAChB,CAAD,CAApB,CAAwBkB,eAApG;AACAI,YAAAA,gBAAgB,CAACO,CAAD,CAAhB,CAAoBV,eAApB,GAAsCG,gBAAgB,CAACO,CAAD,CAAhB,CAAoBV,eAApB,GAAsCH,oBAAoB,CAAChB,CAAD,CAApB,CAAwBmB,eAApG;AACAG,YAAAA,gBAAgB,CAACO,CAAD,CAAhB,CAAoBT,cAApB,GAAqCE,gBAAgB,CAACO,CAAD,CAAhB,CAAoBT,cAApB,GAAqCJ,oBAAoB,CAAChB,CAAD,CAApB,CAAwBoB,cAAlG;AACApB,YAAAA,CAAC;AACF;AACJ;;AACC,YAAGqB,oBAAoB,CAACG,CAAD,CAApB,KAA0Bd,SAA7B,EAAuC;AACrC,cAAGW,oBAAoB,CAACG,CAAD,CAApB,CAAwBP,EAAxB,KAA6BM,UAAU,CAACM,CAAD,CAA1C,EAA8C;AAC5CP,YAAAA,gBAAgB,CAACO,CAAD,CAAhB,CAAoBX,eAApB,GAAsCI,gBAAgB,CAACO,CAAD,CAAhB,CAAoBX,eAApB,GAAsCG,oBAAoB,CAACG,CAAD,CAApB,CAAwBN,eAApG;AACAI,YAAAA,gBAAgB,CAACO,CAAD,CAAhB,CAAoBV,eAApB,GAAsCG,gBAAgB,CAACO,CAAD,CAAhB,CAAoBV,eAApB,GAAsCE,oBAAoB,CAACrB,CAAD,CAApB,CAAwBmB,eAApG;AACAG,YAAAA,gBAAgB,CAACO,CAAD,CAAhB,CAAoBT,cAApB,GAAqCE,gBAAgB,CAACO,CAAD,CAAhB,CAAoBT,cAApB,GAAqCC,oBAAoB,CAACrB,CAAD,CAApB,CAAwBoB,cAAlG;AACAI,YAAAA,CAAC;AACF;AACF;;AAEDK,QAAAA,CAAC;AACF;;AAED,YAAKhB,QAAL,CAAc;AAACS,QAAAA,gBAAgB,EAAGA;AAApB,OAAd;;AACA,YAAKjB,KAAL,CAAWiB,gBAAX,GAA4BA,gBAA5B;;AAEA,YAAKW,QAAL;AACH,KArQiB;;AAAA,UA0QlBC,sBA1QkB,GA0QO,UAACC,KAAD,EAAW;AAClC,UAAGA,KAAK,CAACC,MAAN,CAAaC,KAAb,KAAqB,EAAxB,EAA2B;AACzB,cAAKhC,KAAL,CAAWiC,QAAX,GAAsBH,KAAK,CAACC,MAAN,CAAaC,KAAnC;;AACA,YAAG,MAAKhC,KAAL,CAAWT,IAAX,CAAgBW,MAAhB,KAAyB,CAA5B,EAA8B;AAC5B,gBAAKF,KAAL,CAAWT,IAAX,GAAiB,MAAKS,KAAL,CAAWU,OAA5B;;AACA,gBAAKwB,iBAAL;;AACA,gBAAKC,WAAL;AACD,SAJD,MAIK;AACH,gBAAKD,iBAAL;AACD;AAEF,OAVD,MAUK;AACH,cAAKC,WAAL;AACD;AACF,KAxRiB;;AAAA,UA0RlBC,oBA1RkB,GA0RK,UAACN,KAAD,EAAW;AAChC,UAAGA,KAAK,CAACC,MAAN,CAAaC,KAAb,KAAqB,EAAxB,EAA2B;AACzB,cAAKhC,KAAL,CAAWqC,MAAX,GAAoBP,KAAK,CAACC,MAAN,CAAaC,KAAjC;;AACA,YAAG,MAAKhC,KAAL,CAAWT,IAAX,CAAgBW,MAAhB,KAAyB,CAA5B,EAA8B;AAC5B,gBAAKF,KAAL,CAAWT,IAAX,GAAiB,MAAKS,KAAL,CAAWU,OAA5B;;AACA,gBAAKwB,iBAAL;;AACA,gBAAKC,WAAL;AACD,SAJD,MAIK;AACH,gBAAKD,iBAAL;AACD;AACF,OATD,MASK;AACH,cAAKC,WAAL;AACD;AAEF,KAxSiB;;AAAA,UA2SlBD,iBA3SkB,GA2SE,YAAM;AACtB,UAAII,QAAQ,GAAG,EAAf;AACA,UAAI3C,CAAC,GAAC,CAAN;AACA,UAAIwB,CAAC,GAAC,CAAN;;AAEA,UAAG,MAAKnB,KAAL,CAAWiC,QAAX,KAAsB,IAAzB,EAA8B;AAC7B;AAGA,eAAMtC,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC9B,cAAI,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWqC,MAA7C,EAAoD;AAClDC,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACF,WAHD,MAGM,IAAI,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWqC,MAA7C,EAAoD;AACxDC,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACF,WAHK,MAGA,IAAI,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWqC,MAA7C,EAAqD;AACzDC,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACF;;AAEDxB,UAAAA,CAAC;AACJ;;AAED,cAAKK,KAAL,CAAWT,IAAX,GAAkB+C,QAAlB,CAnBgC,CAmBN;AAEvB,OArBD,MAqBM,IAAG,MAAKtC,KAAL,CAAWqC,MAAX,KAAoB,IAAvB,EAA4B;AAChC;AAED,eAAM1C,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC9B,cAAI,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWiC,QAA7C,EAAsD;AAClDK,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACJ,WAHD,MAGM,IAAI,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWiC,QAA7C,EAAsD;AACxDK,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACJ,WAHK,MAGA,IAAI,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWiC,QAA7C,EAAuD;AACzDK,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACJ;;AAEDxB,UAAAA,CAAC;AACJ;;AAGD,cAAKK,KAAL,CAAWT,IAAX,GAAkB+C,QAAlB,CAnBoC,CAmBT;AAExB,OArBK,MAqBA,IAAG,MAAKtC,KAAL,CAAWiC,QAAX,KAAsB,IAAtB,IAA8B,MAAKjC,KAAL,CAAWiC,QAAX,KAAsB,IAAvD,EAA4D;AAEhE,eAAMtC,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7B,cAAI,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWiC,QAAzC,IACD,MAAKjC,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWqC,MAD5C,EACmD;AACjDC,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACF,WAJD,MAIM,IAAI,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWiC,QAAzC,IACP,MAAKjC,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWqC,MADtC,EAC6C;AACjDC,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACF,WAJK,MAIA,IAAI,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWiC,QAAzC,IACH,MAAKjC,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,GAA8B,MAAKrB,KAAL,CAAWqC,MAD1C,EACiD;AACjDC,YAAAA,QAAQ,CAACnB,CAAD,CAAR,GAAa,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAwB,YAAAA,CAAC;AACF;;AAGLxB,UAAAA,CAAC;AACJ;;AAEF,cAAKK,KAAL,CAAWT,IAAX,GAAkB+C,QAAlB,CArBmE,CAqBxC;AAEzB;;AAED,YAAKC,WAAL;AAGH,KAtXiB;;AAAA,UA2XlBC,cA3XkB,GA2XD,UAACV,KAAD,EAAW;AAC1B,YAAK9B,KAAL,CAAWyC,QAAX,GAAsBX,KAAK,CAACC,MAAN,CAAaC,KAAnC;;AACA,YAAKO,WAAL;AACD,KA9XiB;;AAAA,UAoYlBG,UApYkB,GAoYL,UAACC,IAAD,EAAU;AACrB,UAAGA,IAAI,CAACzC,MAAL,GAAY,MAAKF,KAAL,CAAW2C,IAAX,CAAgBzC,MAA/B,EAAsC;AACpC,cAAKF,KAAL,CAAW2C,IAAX,GAAkBA,IAAlB;;AACA,cAAKC,YAAL,CAAkBD,IAAlB;;AACA,cAAKJ,WAAL;AACD,OAJD,MAIK;AACH,cAAKvC,KAAL,CAAW2C,IAAX,GAAkBA,IAAlB;;AACA,cAAKR,WAAL;AAED;AACF,KA9YiB;;AAAA,UAgZlBS,YAhZkB,GAgZH,UAACD,IAAD,EAAU;AAEvB,UAAIhD,CAAC,GAAE,CAAP;AACA,UAAIwB,CAAC,GAAE,CAAP;AACA,UAAIK,CAAC,GAAG,CAAR;AACA,UAAIqB,CAAC,GAAG,CAAR;AACA,UAAIC,IAAJ;AACA,UAAIR,QAAQ,GAAG,EAAf;AACA,UAAIS,IAAI,GAAG,KAAX,CARuB,CAUvB;;AAEA,aAAMpD,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7BiB,QAAAA,CAAC,GAAC,CAAF;;AACA,YAAG,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBgD,IAAnB,KAA0BtC,SAA7B,EAAuC;AACrC,iBAAMc,CAAC,GAAC,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBgD,IAAnB,CAAwBK,MAAxB,CAA+B9C,MAAvC,EAA8C;AAC5C4C,YAAAA,IAAI,GAAC,MAAK9C,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBgD,IAAnB,CAAwBK,MAAxB,CAA+B7B,CAA/B,EAAkC8B,KAAlC,CAAwC,KAAxC,CAAL;;AAEA,mBAAMzB,CAAC,GAACmB,IAAI,CAACzC,MAAb,EAAoB;AAClB,kBAAG4C,IAAI,CAACI,IAAL,CAAU,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,QAAF,CAAWT,IAAI,CAACnB,CAAD,CAAJ,CAAQ6B,IAAnB,CAAJ;AAAA,eAAX,MAA2C,IAA9C,EAAmD;AACjDN,gBAAAA,IAAI,GAAG,IAAP;AACD,eAFD,MAEK;AACHA,gBAAAA,IAAI,GAAG,KAAP;AACD;;AACDvB,cAAAA,CAAC;AACF;;AAED,gBAAGuB,IAAI,KAAG,IAAV,EAAe;AACbT,cAAAA,QAAQ,CAACO,CAAD,CAAR,GAAa,MAAK7C,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAkD,cAAAA,CAAC;AACF;;AACDrB,YAAAA,CAAC,GAAC,CAAF;AACAL,YAAAA,CAAC;AACF;AACF;;AAEDxB,QAAAA,CAAC;AACF;;AAED,YAAKK,KAAL,CAAWT,IAAX,GAAkB+C,QAAlB,CAvCuB,CAuCI;AAI5B,KA3biB;;AAAA,UAicxBgB,UAjcwB,GAicX,UAACC,IAAD,EAAU;AACrB,UAAGA,IAAI,CAACrD,MAAL,GAAY,MAAKF,KAAL,CAAWuD,IAAX,CAAgBrD,MAA/B,EAAsC;AAEpC,cAAKF,KAAL,CAAWuD,IAAX,GAAgBA,IAAhB;;AACA,cAAKC,YAAL,CAAkBD,IAAlB;;AACA,cAAKhB,WAAL;AACD,OALD,MAKK;AACJ,cAAKvC,KAAL,CAAWuD,IAAX,GAAgBA,IAAhB;;AACA,cAAKpB,WAAL;AACA;AACF,KA3cuB;;AAAA,UA6cxBqB,YA7cwB,GA6cT,UAACD,IAAD,EAAU;AAEvB,UAAI5D,CAAC,GAAE,CAAP;AACA,UAAIwB,CAAC,GAAE,CAAP;AACA,UAAIK,CAAC,GAAG,CAAR;AACA,UAAIqB,CAAC,GAAG,CAAR;AACA,UAAIC,IAAJ;AACA,UAAIR,QAAQ,GAAG,EAAf;AACA,UAAIS,IAAI,GAAG,KAAX;;AAEA,aAAMpD,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7BiB,QAAAA,CAAC,GAAC,CAAF;;AACA,YAAG,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB8D,KAAnB,KAA2BpD,SAA9B,EAAwC;AACtC,iBAAMc,CAAC,GAAC,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB8D,KAAnB,CAAyBC,cAAzB,CAAwCxD,MAAhD,EAAuD;AACrD4C,YAAAA,IAAI,GAAC,MAAK9C,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB8D,KAAnB,CAAyBC,cAAzB,CAAwCvC,CAAxC,EAA2C8B,KAA3C,CAAiD,GAAjD,CAAL;;AAEA,mBAAMzB,CAAC,GAAC+B,IAAI,CAACrD,MAAb,EAAoB;AAClB,kBAAG4C,IAAI,CAACI,IAAL,CAAU,UAAAC,CAAC;AAAA,uBAAIA,CAAC,CAACC,QAAF,CAAWG,IAAI,CAAC/B,CAAD,CAAJ,CAAQ6B,IAAnB,CAAJ;AAAA,eAAX,MAA2C,IAA9C,EAAmD;AACjDN,gBAAAA,IAAI,GAAG,IAAP;AACD,eAFD,MAEK;AACHA,gBAAAA,IAAI,GAAG,KAAP;AACD;;AACDvB,cAAAA,CAAC;AACF;;AAED,gBAAGuB,IAAI,KAAG,IAAV,EAAe;AACbT,cAAAA,QAAQ,CAACO,CAAD,CAAR,GAAa,MAAK7C,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAkD,cAAAA,CAAC;AACF;;AACDrB,YAAAA,CAAC,GAAC,CAAF;AACAL,YAAAA,CAAC;AACF;AACF;;AAEDxB,QAAAA,CAAC;AACF;;AAGD,YAAKK,KAAL,CAAWT,IAAX,GAAgB+C,QAAhB;AACA,YAAKtC,KAAL,CAAWC,WAAX,GAAuBqC,QAAQ,CAACpC,MAAhC;AAGD,KAvfuB;;AAAA,UA2fxByD,cA3fwB,GA2fP,UAACC,QAAD,EAAc;AAC7B,UAAGA,QAAQ,CAAC1D,MAAT,GAAgB,MAAKF,KAAL,CAAW4D,QAAX,CAAoB1D,MAAvC,EAA8C;AAC5C,cAAKF,KAAL,CAAW4D,QAAX,GAAoBA,QAApB;;AACA,cAAKC,gBAAL,CAAsBD,QAAtB;;AACA,cAAKrB,WAAL;AACD,OAJD,MAIK;AACH,cAAKvC,KAAL,CAAW4D,QAAX,GAAoBA,QAApB;;AACA,cAAKzB,WAAL;AACD;AACF,KApgBuB;;AAAA,UAsgBxB0B,gBAtgBwB,GAsgBL,UAACD,QAAD,EAAc;AAC/B,UAAIjE,CAAC,GAAE,CAAP;AACA,UAAIwB,CAAC,GAAE,CAAP;AACA,UAAIK,CAAC,GAAG,CAAR;AACA,UAAIqB,CAAC,GAAG,CAAR;AACA,UAAIC,IAAJ;AACA,UAAIR,QAAQ,GAAG,EAAf;AACA,UAAIS,IAAI,GAAG,KAAX;;AAEA,aAAMpD,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7BiB,QAAAA,CAAC,GAAC,CAAF;;AACA,YAAG,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBmE,gBAAnB,KAAsCzD,SAAzC,EAAmD;AACnD,cAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBmE,gBAAnB,CAAoCF,QAApC,KAA+CvD,SAAlD,EAA4D;AAC1D,mBAAMc,CAAC,GAAC,MAAKnB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBmE,gBAAnB,CAAoCF,QAApC,CAA6C1D,MAArD,EAA4D;AAC1D4C,cAAAA,IAAI,GAAC,MAAK9C,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBmE,gBAAnB,CAAoCF,QAApC,CAA6CzC,CAA7C,CAAL;;AAEA,qBAAMK,CAAC,GAACoC,QAAQ,CAAC1D,MAAjB,EAAwB;AACtB,oBAAG4C,IAAI,KAAGc,QAAQ,CAACpC,CAAD,CAAR,CAAY6B,IAAtB,EAA2B;AACzBN,kBAAAA,IAAI,GAAG,IAAP;AACD,iBAFD,MAEK;AACHA,kBAAAA,IAAI,GAAG,KAAP;AACD;;AACDvB,gBAAAA,CAAC;AACF;;AAED,kBAAGuB,IAAI,KAAG,IAAV,EAAe;AACbT,gBAAAA,QAAQ,CAACO,CAAD,CAAR,GAAa,MAAK7C,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,CAAb;AACAkD,gBAAAA,CAAC;AACF;;AACDrB,cAAAA,CAAC,GAAC,CAAF;AACAL,cAAAA,CAAC;AACF;AACF;AACF;;AAECxB,QAAAA,CAAC;AACF;;AAGD,YAAKK,KAAL,CAAWT,IAAX,GAAgB+C,QAAhB;AACA,YAAKtC,KAAL,CAAWC,WAAX,GAAuBqC,QAAQ,CAACpC,MAAhC;AAED,KAhjBuB;;AAAA,UAmjBxBqC,WAnjBwB,GAmjBV,YAAM;AAClB,UAAG,MAAKvC,KAAL,CAAWT,IAAX,CAAgBW,MAAhB,KAAyB,CAA5B,EAA8B;AAE5B,YAAIK,WAAW,GAAG;AAChBd,UAAAA,QAAQ,EAAC,CADO;AAEhBD,UAAAA,QAAQ,EAAC,CAFO;AAGhBE,UAAAA,OAAO,EAAC;AAHQ,SAAlB;AAKA,cAAKM,KAAL,CAAWC,WAAX,GAAuB,CAAvB;AACA,cAAKD,KAAL,CAAWS,OAAX,GAAqBF,WAArB,CAR4B,CAQK;;AACjC,cAAKqB,QAAL;AAED,OAXD,MAWK;AACH,cAAK5B,KAAL,CAAWC,WAAX,GAAuB,MAAKD,KAAL,CAAWT,IAAX,CAAgBW,MAAvC;;AACA,cAAK6D,KAAL;AACD;AACF,KAnkBuB;;AAAA,UAqkBlBA,KArkBkB,GAqkBV,YAAM;AAEZ,UAAIvE,QAAQ,GAAG,CAAf;AACA,UAAIC,QAAQ,GAAG,CAAf;AACA,UAAIC,OAAO,GAAG,CAAd;AACA,UAAIE,GAAG,GAAG,CAAV;AACA,UAAIE,OAAO,GAAC,CAAZ;AACA,UAAID,KAAK,GAAG,CAAZ;AACA,UAAIE,IAAI,GAAG,CAAX;AAEA,UAAIJ,CAAC,GAAC,CAAN;AACA,UAAIY,WAAJ;AACA,UAAIJ,WAAJ;;AAEA,UAAI,MAAKH,KAAL,CAAWyC,QAAX,KAAsB,CAAtB,IAA2B,MAAKzC,KAAL,CAAWyC,QAAX,KAAsB,GAArD,EAA0D;AACxD,eAAM9C,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7B,cAAG,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,KAA+BC,SAAlC,EAA4C;AAC1C,gBAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AAEzD,kBAAI,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACEZ,QAAQ,GADV,KAEK,IAAI,MAAKQ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACHX,QAAQ,GADL,KAGHC,OAAO;AACN;AACF;;AACDC,UAAAA,CAAC;AACF;;AACDA,QAAAA,CAAC,GAAC,CAAF;;AACA,eAAMA,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7B,cAAG,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,KAA+BC,SAAlC,EAA4C;AAC1C,gBAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AACzD,kBAAI,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACEZ,QAAQ,GADV,KAEK,IAAI,MAAKQ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACHX,QAAQ,GADL,KAGHC,OAAO;AACN;AAAC;;AACJC,UAAAA,CAAC;AACF;;AAEDY,QAAAA,WAAW,GAAG;AACZd,UAAAA,QAAQ,EAAEA,QADE;AAEZD,UAAAA,QAAQ,EAAEA,QAFE;AAGZE,UAAAA,OAAO,EAAEA;AAHG,SAAd;AAMD,OAnCD,MAmCM,IAAG,MAAKM,KAAL,CAAWyC,QAAX,KAAsB,CAAtB,IAA2B,MAAKzC,KAAL,CAAWyC,QAAX,KAAsB,GAApD,EAAwD;AAE5D,eAAM9C,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC3B,cAAG,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,KAA+BC,SAAlC,EAA4C;AAC1C,gBAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AAE3D,kBAAI,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACEZ,QAAQ,GADV,KAEK,IAAI,MAAKQ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACHX,QAAQ,GADL,KAGHC,OAAO;AAGN;AACF;;AACDC,UAAAA,CAAC;AACF;;AACDY,QAAAA,WAAW,GAAG;AACZd,UAAAA,QAAQ,EAAEA,QADE;AAEZD,UAAAA,QAAQ,EAAEA,QAFE;AAGZE,UAAAA,OAAO,EAAEA;AAHG,SAAd;AAOD,OAzBK,MAyBD;AAGH,eAAMC,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7B,cAAG,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,KAA+BC,SAAlC,EAA4C;AAC1C,gBAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AACzD,kBAAI,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACEZ,QAAQ,GADV,KAEK,IAAI,MAAKQ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EACHX,QAAQ,GADL,KAGHC,OAAO;AACN,aARyC,CASzC;;;AAED,gBAAG,MAAKM,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCE,OAAxC,KAAkD,KAArD,EAA2D;AACzDV,cAAAA,GAAG;AACJ,aAFD,MAEM,IAAG,MAAKI,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCE,OAAxC,KAAkD,OAArD,EAA6D;AACjET,cAAAA,KAAK;AACN,aAFK,MAEA,IAAG,MAAKG,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCE,OAAxC,KAAkD,SAArD,EAA+D;AACnER,cAAAA,OAAO;AACR,aAFK,MAEA,IAAG,MAAKE,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCE,OAAxC,KAAkD,MAArD,EAA4D;AAChEP,cAAAA,IAAI;AACL;AACF;;AAGDJ,UAAAA,CAAC;AACF;;AAGDQ,QAAAA,WAAW,GAAG;AACZP,UAAAA,GAAG,EAAEA,GADO;AAEZE,UAAAA,OAAO,EAAEA,OAFG;AAGZD,UAAAA,KAAK,EAAEA,KAHK;AAIZE,UAAAA,IAAI,EAAGA;AAJK,SAAd;AAOAQ,QAAAA,WAAW,GAAG;AACZd,UAAAA,QAAQ,EAAEA,QADE;AAEZD,UAAAA,QAAQ,EAAEA,QAFE;AAGZE,UAAAA,OAAO,EAAEA;AAHG,SAAd;AAKD;;AAED,YAAKM,KAAL,CAAWS,OAAX,GAAqBF,WAArB;AACA,YAAKP,KAAL,CAAWG,WAAX,GAAyBA,WAAzB;AAMA,UAAIc,gBAAgB,GAAC,CAAC;AACpBL,QAAAA,EAAE,EAAC,IADiB;AAEpBC,QAAAA,eAAe,EAAC,IAFI;AAGpBC,QAAAA,eAAe,EAAC,IAHI;AAIpBC,QAAAA,cAAc,EAAC;AAJK,OAAD,CAArB;AAQA,UAAII,CAAC,GAAG,CAAR;;AAEA,UAAG,MAAKnB,KAAL,CAAWT,IAAX,CAAgBW,MAAhB,KAAyB,CAA5B,EAA8B;AAC5B,YAAIP,CAAC,GAAE,CAAP;;AACA,YAAIyB,EAAE,GAAG,MAAKpB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CAAT;;AACAL,QAAAA,gBAAgB,CAAC,CAAD,CAAhB,CAAoBL,EAApB,GAAuBQ,EAAvB;AACAzB,QAAAA,CAAC;;AACD,eAAMA,CAAC,GAAC,MAAKK,KAAL,CAAWT,IAAX,CAAgBW,MAAxB,EAA+B;AAC7B,cAAG,MAAKF,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,KAA+BC,SAAlC,EAA4C;AAC1C,gBAAG,MAAKL,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,MAA0CC,SAA7C,EAAuD;AAEzD,kBAAGY,gBAAgB,CAACE,CAAD,CAAhB,CAAoBP,EAApB,KAAyB,MAAKZ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CAA5B,EAA2E;AACzE,oBAAI,MAAKtB,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACjEa,kBAAAA,gBAAgB,CAACE,CAAD,CAAhB,CAAoBN,eAApB;AACD,iBAFD,MAEM,IAAI,MAAKb,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACvEa,kBAAAA,gBAAgB,CAACE,CAAD,CAAhB,CAAoBL,eAApB;AACD,iBAFK,MAEA,IAAI,MAAKd,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,SAAxD,EAAkE;AACtEa,kBAAAA,gBAAgB,CAACE,CAAD,CAAhB,CAAoBJ,cAApB;AACD;AAGF,eAVD,MAUK;AACHI,gBAAAA,CAAC;AACCF,gBAAAA,gBAAgB,CAACM,IAAjB,CAAsB;AACtBX,kBAAAA,EAAE,EAAC,MAAKZ,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmB0B,UAAnB,CAA8BC,SAA9B,CAAwC,CAAxC,EAA2C,EAA3C,CADmB;AAEtBT,kBAAAA,eAAe,EAAC,CAFM;AAGtBC,kBAAAA,eAAe,EAAC,CAHM;AAItBC,kBAAAA,cAAc,EAAC;AAJO,iBAAtB;;AAMF,oBAAI,MAAKf,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACjEa,kBAAAA,gBAAgB,CAACE,CAAD,CAAhB,CAAoBN,eAApB;AACD,iBAFD,MAEM,IAAI,MAAKb,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,UAAxD,EAAmE;AACvEa,kBAAAA,gBAAgB,CAACE,CAAD,CAAhB,CAAoBL,eAApB;AACD,iBAFK,MAEA,IAAI,MAAKd,KAAL,CAAWT,IAAX,CAAgBI,CAAhB,EAAmBS,SAAnB,CAA6B,SAA7B,EAAwCA,SAAxC,KAAoD,SAAxD,EAAkE;AACtEa,kBAAAA,gBAAgB,CAACE,CAAD,CAAhB,CAAoBJ,cAApB;AACD;AACF;AACF;AACF;;AACGpB,UAAAA,CAAC;AACF;AAEF;;AAED,YAAKa,QAAL,CAAc;AAACS,QAAAA,gBAAgB,EAAGA;AAApB,OAAd;;AACA,YAAKjB,KAAL,CAAWiB,gBAAX,GAA4BA,gBAA5B;;AAEA,YAAKW,QAAL;AACD,KA3vBiB;;AAAA,UA8vBlBO,WA9vBkB,GA8vBJ,YAAM;AAElB,YAAKnC,KAAL,CAAWT,IAAX,GAAiB,MAAKS,KAAL,CAAWU,OAA5B;;AAEA,UAAG,MAAKV,KAAL,CAAWiC,QAAX,KAAsB,IAAtB,IAA8B,MAAKjC,KAAL,CAAWqC,MAAX,KAAoB,IAArD,EAA2D;AACzD,cAAKH,iBAAL;AACD;;AAED,UAAG,MAAKlC,KAAL,CAAW2C,IAAX,CAAgBzC,MAAhB,KAAyB,CAA5B,EAA8B;AAC5B,cAAK0C,YAAL,CAAkB,MAAK5C,KAAL,CAAW2C,IAA7B;AACD;;AAED,UAAG,MAAK3C,KAAL,CAAW4D,QAAX,CAAoB1D,MAApB,KAA6B,CAAhC,EAAkC;AAChC,cAAK2D,gBAAL,CAAsB,MAAK7D,KAAL,CAAW4D,QAAjC;AACD;;AAED,UAAG,MAAK5D,KAAL,CAAWuD,IAAX,CAAgBrD,MAAhB,KAAyB,CAA5B,EAA8B;AAC5B,cAAKsD,YAAL,CAAkB,MAAKxD,KAAL,CAAWuD,IAA7B;AACD;;AAED,YAAKhB,WAAL;AAED,KApxBiB;;AAAA,UAuxBlBX,QAvxBkB,GAuxBP,YAAK;AAEd,YAAKvC,KAAL,CAAW2E,cAAX,CAA0B,MAAKhE,KAAL,CAAWiB,gBAArC,EAAsD,MAAKjB,KAAL,CAAWS,OAAjE,EAAyE,MAAKT,KAAL,CAAWyC,QAApF,EAA6F,MAAKzC,KAAL,CAAWG,WAAxG;AACD,KA1xBiB;;AAEhB,UAAKyB,QAAL,GAAc,MAAKA,QAAL,CAAcqC,IAAd,+BAAd;AAEA,UAAKjE,KAAL,GAAa;AACTC,MAAAA,WAAW,EAAE,CADJ;AAETwC,MAAAA,QAAQ,EAAE,CAFD;AAGThC,MAAAA,OAAO,EAAG,EAHD;AAITN,MAAAA,WAAW,EAAC,EAJH;AAKTO,MAAAA,OAAO,EAAG,EALD;AAMTnB,MAAAA,IAAI,EAAE,EANG;AAOToD,MAAAA,IAAI,EAAG,EAPE;AAQTY,MAAAA,IAAI,EAAG,EARE;AASTK,MAAAA,QAAQ,EAAG,EATF;AAUT3C,MAAAA,gBAAgB,EAAE,EAVT;AAWTgB,MAAAA,QAAQ,EAAE,IAXD;AAYTI,MAAAA,MAAM,EAAG;AAZA,KAAb;;AAiBA,UAAK/C,gBAAL,CAAsB,MAAKD,KAAL,CAAW6E,UAAX,CAAsBC,cAAtB,CAAqC5E,IAA3D;;AArBgB;AAsBnB;;;;WAED,4BAAmB6E,SAAnB,EAA8B;AAC5B,UAAGA,SAAS,CAACC,OAAV,KAAoB,KAAKhF,KAAL,CAAWgF,OAAlC,EAA0C;AACxC,aAAK/E,gBAAL,CAAsB,KAAKD,KAAL,CAAW6E,UAAX,CAAsBI,SAAtB,CAAgC/E,IAAtD;AACD;AAEF;;;WAkwBD,kBAAQ;AACJ,0BACE;AAAA,gCACE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,kCACE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACE;AAAS,cAAA,SAAS,EAAC,iBAAnB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,WAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAA0B;AAAA;AAAA;AAAA;AAAA,8BAA1B,eACE;AAAQ,wBAAA,EAAE,EAAC,MAAX;AAAkB,wBAAA,QAAQ,EAAE,KAAKiD,cAAjC;AAAA,gDACE;AAAQ,0BAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCADF,eAEE;AAAQ,0BAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAFF,eAGE;AAAQ,0BAAA,KAAK,EAAC,GAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAHF;AAAA;AAAA;AAAA;AAAA;AAAA,8BADF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADF,eAuBE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACE;AAAS,cAAA,SAAS,EAAC,iBAAnB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,wCACE;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAAsB;AAAA;AAAA;AAAA;AAAA,8BAAtB,eACE;AAAO,wBAAA,IAAI,EAAC,MAAZ;AACA,wBAAA,IAAI,EAAC,WADL;AAEA,wBAAA,MAAM,EAAE,KAAKX;AAFb;AAAA;AAAA;AAAA;AAAA,8BADF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAYE;AAAK,kBAAA,SAAS,EAAC,UAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAAoB;AAAA;AAAA;AAAA;AAAA,8BAApB,eACE;AAAO,wBAAA,IAAI,EAAC,MAAZ;AACA,wBAAA,EAAE,EAAC,QADH;AAEA,wBAAA,MAAM,EAAE,KAAKO;AAFb;AAAA;AAAA;AAAA;AAAA,8BADF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBAZF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAvBF,eAmDE;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACE;AAAS,cAAA,SAAS,EAAC,iBAAnB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCACE;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAA6B;AAAA;AAAA;AAAA;AAAA,8BAA7B,eACG;AAAA,wCAAM,KAAKpC,KAAL,CAAWC,WAAjB;AAAA;AAAA;AAAA;AAAA;AAAA,8BADH;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAnDF;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,eAsEE;AAAA;AAAA;AAAA;AAAA,gBAtEF,eAuEE;AAAK,UAAA,SAAS,EAAC,gBAAf;AAAA,kCACA;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACE;AAAS,cAAA,SAAS,EAAC,iBAAnB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCAEE;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAAqB;AAAA;AAAA;AAAA;AAAA,8BAArB,eACA,QAAC,aAAD;AAAe,wBAAA,cAAc,EAAI,KAAKyC,UAAL,CAAgBuB,IAAhB,CAAqB,IAArB,CAAjC;AAA6D,wBAAA,EAAE,EAAI,KAAK5E,KAAL,CAAWkF,EAA9E;AAAkF,wBAAA,OAAO,EAAI,KAAKlF,KAAL,CAAW6E,UAAX,CAAsBM;AAAnH;AAAA;AAAA;AAAA;AAAA,8BADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBADA,eAoBA;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACE;AAAS,cAAA,SAAS,EAAC,iBAAnB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCAEE;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAA+B;AAAA;AAAA;AAAA;AAAA,8BAA/B,eACA,QAAC,UAAD;AAAY,wBAAA,cAAc,EAAI,KAAKlB,UAAL,CAAgBW,IAAhB,CAAqB,IAArB,CAA9B;AAA0D,wBAAA,EAAE,EAAI,KAAK5E,KAAL,CAAWkF,EAA3E;AAA+E,wBAAA,OAAO,EAAI,KAAKlF,KAAL,CAAW6E,UAAX,CAAsBO;AAAhH;AAAA;AAAA;AAAA;AAAA,8BADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBApBA,eAuCA;AAAK,YAAA,SAAS,EAAC,mBAAf;AAAA,mCACE;AAAS,cAAA,SAAS,EAAC,iBAAnB;AAAA,qCACE;AAAK,gBAAA,SAAS,EAAC,KAAf;AAAA,uCAEE;AAAK,kBAAA,SAAS,EAAC,qBAAf;AAAA,yCACE;AAAK,oBAAA,SAAS,EAAC,iBAAf;AAAA,2CACE;AAAA,8CAAQ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAAR,eAAyB;AAAA;AAAA;AAAA;AAAA,8BAAzB,eACA,QAAC,aAAD;AAAe,wBAAA,cAAc,EAAI,KAAKd,cAAL,CAAoBM,IAApB,CAAyB,IAAzB,CAAjC;AAAiE,wBAAA,EAAE,EAAI,KAAK5E,KAAL,CAAWkF,EAAlF;AAAsF,wBAAA,WAAW,EAAI,KAAKlF,KAAL,CAAW6E,UAAX,CAAsBQ;AAA3H;AAAA;AAAA;AAAA;AAAA,8BADA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AAFF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,kBAvCA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAvEF;AAAA,sBADF;AAsIH;;;;EAv6BiBzF,KAAK,CAAC0F,S;;AA06B5B,eAAevF,OAAf","sourcesContent":["import axios from 'axios';\r\nimport SearchFilters from './SearchFilters';\r\nimport React from 'react';\r\nimport SearchText from './SearchText';\r\nimport SearchHashtag from './SearchHashtag';\r\n\r\nclass Filters extends React.Component{\r\n    constructor (props) {\r\n        super(props)\r\n        this.sendData=this.sendData.bind(this)\r\n\r\n        this.state = {\r\n            totalTweets: 0,\r\n            flagType: 0,\r\n            counter : [],\r\n            feelCounter:[],\r\n            oldData : [],\r\n            data: [],\r\n            tags : [],\r\n            text : [],\r\n            hashtags : [],\r\n            dataGroupByDates: [],\r\n            fromDate: null,\r\n            toDate : null,\r\n\r\n        }\r\n      \r\n        \r\n        this.getSentimentData(this.props.tweetsData.dataSortByDate.data)\r\n    }\r\n\r\n    componentDidUpdate(prevProps) {\r\n      if(prevProps.mongodb!==this.props.mongodb){\r\n        this.getSentimentData(this.props.tweetsData.dataTweet.data)\r\n      }\r\n      \r\n    }\r\n\r\n    getSentimentData = (data) => {\r\n\r\n          \r\n          var negative = 0;\r\n          var positive = 0;\r\n          var neutral = 0;\r\n          var i=0;\r\n          var joy =0;\r\n          var anger = 0;\r\n          var sadness = 0;\r\n          var fear =0;\r\n          this.state.totalTweets = data.length;\r\n          var feelCounter = [];\r\n          while(i<data.length){\r\n            if(data[i].sentiment!==undefined){\r\n              if(data[i].sentiment['sent-it']!==undefined){\r\n                if (data[i].sentiment['sent-it'].sentiment==='negative')\r\n                  negative++\r\n                else if (data[i].sentiment['sent-it'].sentiment==='positive')\r\n                  positive ++\r\n                else\r\n                neutral ++\r\n              }\r\n            }\r\n   \r\n              i++\r\n          }\r\n          i=0\r\n          while(i<data.length){\r\n            if(data[i].sentiment!==undefined){\r\n              if(data[i].sentiment['feel-it']!==undefined){\r\n                if (data[i].sentiment['feel-it'].sentiment==='negative')\r\n                  negative++\r\n                else if (data[i].sentiment['feel-it'].sentiment==='positive')\r\n                  positive ++\r\n                else\r\n                neutral ++\r\n                \r\n                \r\n             //Get Emotion\r\n\r\n                if(data[i].sentiment['feel-it'].emotion==='joy'){\r\n                  joy++;\r\n                }else if(data[i].sentiment['feel-it'].emotion==='anger'){\r\n                  anger++;\r\n                }else if(data[i].sentiment['feel-it'].emotion==='sadness'){\r\n                  sadness++;\r\n                }else if(data[i].sentiment['feel-it'].emotion==='fear'){\r\n                  fear++;\r\n                }\r\n              }\r\n          }        \r\n          \r\n\r\n          i++\r\n        }\r\n\r\n\r\n        feelCounter = {\r\n          joy: joy,\r\n          sadness: sadness,\r\n          anger: anger,\r\n          fear : fear\r\n       }\r\n        \r\n    \r\n          var tempCounter = {\r\n              positive: positive,\r\n              negative: negative,\r\n              neutral: neutral,\r\n           }\r\n    \r\n    \r\n          this.setState({ counter: tempCounter })\r\n          this.state.counter = tempCounter;\r\n          this.setState({ feelCounter: feelCounter })\r\n          this.state.feelCounter = feelCounter;\r\n          this.setState({data : data})\r\n          this.state.data = data;\r\n          this.setState({oldData : data})\r\n          this.state.oldData = data;\r\n\r\n          \r\n\r\n          var dataFeelGroupByDates=[{\r\n            id:null,\r\n            counterPositive:null,\r\n            counterNegative:null,\r\n            counterNeutral:null,\r\n          }];\r\n\r\n          var dataSentGroupByDates=[{\r\n            id:null,\r\n            counterPositive:null,\r\n            counterNegative:null,\r\n            counterNeutral:null,\r\n          }];\r\n\r\n          var dataGroupByDates=[{\r\n            id:null,\r\n            counterPositive:null,\r\n            counterNegative:null,\r\n            counterNeutral:null,\r\n          }];\r\n\r\n          var arrayDates = []; //storing all dates for final counter\r\n    \r\n          \r\n\r\n          //MultiLine Charts\r\n\r\n          var j = 0;\r\n          \r\n          if(this.state.data.length!==0){\r\n            //var i =this.state.data.length-1;\r\n            var i =0;\r\n            var dt = this.state.data[i].created_at.substring(0, 10);\r\n            dataGroupByDates[0].id=dt;\r\n            i++;\r\n            while(i<this.state.data.length){\r\n\r\n              if(this.state.data[i].sentiment!==undefined){\r\n                if(this.state.data[i].sentiment['feel-it']!==undefined){\r\n                  \r\n                  if(dataFeelGroupByDates[j].id===this.state.data[i].created_at.substring(0, 10)){\r\n                    if( this.state.data[i].sentiment['feel-it'].sentiment==='positive'){\r\n                      dataFeelGroupByDates[j].counterPositive++\r\n                    }else if( this.state.data[i].sentiment['feel-it'].sentiment==='negative'){\r\n                      dataFeelGroupByDates[j].counterNegative++\r\n                    }else if( this.state.data[i].sentiment['feel-it'].sentiment==='neutral'){\r\n                      dataFeelGroupByDates[j].counterNeutral++\r\n                    }    \r\n    \r\n                  }else{              \r\n                    arrayDates.push(this.state.data[i].created_at.substring(0, 10));\r\n                    j++;\r\n                    dataFeelGroupByDates.push({\r\n                      id:this.state.data[i].created_at.substring(0, 10),\r\n                      counterPositive:0,\r\n                      counterNegative:0,\r\n                      counterNeutral:0,\r\n                    });\r\n                    \r\n                    if( this.state.data[i].sentiment['feel-it'].sentiment==='positive'){\r\n                      dataFeelGroupByDates[j].counterPositive++\r\n                    }else if( this.state.data[i].sentiment['feel-it'].sentiment==='negative'){\r\n                      dataFeelGroupByDates[j].counterNegative++\r\n                    }else if( this.state.data[i].sentiment['feel-it'].sentiment==='neutral'){\r\n                      dataFeelGroupByDates[j].counterNeutral++\r\n                    }                \r\n                  }\r\n                }\r\n\r\n                //Count Sent-it\r\n                if(this.state.data[i].sentiment['sent-it']!==undefined){\r\n                  \r\n                  if(dataSentGroupByDates[j].id===this.state.data[i].created_at.substring(0, 10)){\r\n                    if( this.state.data[i].sentiment['sent-it'].sentiment==='positive'){\r\n                      dataSentGroupByDates[j].counterPositive++\r\n                    }else if( this.state.data[i].sentiment['sent-it'].sentiment==='negative'){\r\n                      dataSentGroupByDates[j].counterNegative++\r\n                    }else if( this.state.data[i].sentiment['sent-it'].sentiment==='neutral'){\r\n                      dataSentGroupByDates[j].counterNeutral++\r\n                    }    \r\n    \r\n                  }else{              \r\n                    \r\n                    dataSentGroupByDates.push({\r\n                      id:this.state.data[i].created_at.substring(0, 10),\r\n                      counterPositive:0,\r\n                      counterNegative:0,\r\n                      counterNeutral:0,\r\n                    });\r\n                    j++;\r\n                    if(this.state.data[i].sentiment['sent-it'].sentiment==='positive'){\r\n                      dataSentGroupByDates[j].counterPositive++\r\n                    }else if( this.state.data[i].sentiment['sent-it'].sentiment==='negative'){\r\n                      dataSentGroupByDates[j].counterNegative++\r\n                    }else if( this.state.data[i].sentiment['sent-it'].sentiment==='neutral'){\r\n                      dataSentGroupByDates[j].counterNeutral++\r\n                    }                \r\n                  }\r\n                }\r\n\r\n              }\r\n              i++;\r\n            }\r\n            \r\n          }\r\n\r\n          \r\n\r\n          //ALL Sentiment Counters\r\n          var k =0;\r\n          i=0;\r\n          j=0;\r\n          dataFeelGroupByDates.shift();\r\n          dataSentGroupByDates.shift();\r\n          console.log(arrayDates)\r\n          while(k<arrayDates.length-1){\r\n            dataGroupByDates.push({\r\n              id:arrayDates[k],\r\n              counterPositive:0,\r\n              counterNegative:0,\r\n              counterNeutral:0,\r\n            });\r\n            if(dataFeelGroupByDates[i]!==undefined){\r\n             if(dataFeelGroupByDates[i].id===arrayDates[k]){\r\n                dataGroupByDates[k].counterPositive = dataGroupByDates[k].counterPositive + dataFeelGroupByDates[i].counterPositive;\r\n                dataGroupByDates[k].counterNegative = dataGroupByDates[k].counterNegative + dataFeelGroupByDates[i].counterNegative;\r\n                dataGroupByDates[k].counterNeutral = dataGroupByDates[k].counterNeutral + dataFeelGroupByDates[i].counterNeutral;             \r\n                i++;\r\n              }\r\n          }\r\n            if(dataSentGroupByDates[j]!==undefined){\r\n              if(dataSentGroupByDates[j].id===arrayDates[k]){\r\n                dataGroupByDates[k].counterPositive = dataGroupByDates[k].counterPositive + dataSentGroupByDates[j].counterPositive;\r\n                dataGroupByDates[k].counterNegative = dataGroupByDates[k].counterNegative + dataSentGroupByDates[i].counterNegative;\r\n                dataGroupByDates[k].counterNeutral = dataGroupByDates[k].counterNeutral + dataSentGroupByDates[i].counterNeutral;\r\n                j++;\r\n              }\r\n            }\r\n\r\n            k++\r\n          }\r\n\r\n          this.setState({dataGroupByDates : dataGroupByDates})\r\n          this.state.dataGroupByDates=dataGroupByDates     \r\n          \r\n          this.sendData()\r\n      }    \r\n      \r\n    \r\n      //DATES FILTERS\r\n      \r\n      handleFromDatesChanges = (event) => {\r\n        if(event.target.value!==\"\"){\r\n          this.state.fromDate = event.target.value\r\n          if(this.state.data.length===0){\r\n            this.state.data= this.state.oldData\r\n            this.filterDataByDates()\r\n            this.resetFilter()\r\n          }else{\r\n            this.filterDataByDates()\r\n          }\r\n         \r\n        }else{\r\n          this.resetFilter()\r\n        }\r\n      }\r\n    \r\n      handleToDatesChanges = (event) => {\r\n        if(event.target.value!==\"\"){\r\n          this.state.toDate = event.target.value\r\n          if(this.state.data.length===0){\r\n            this.state.data= this.state.oldData\r\n            this.filterDataByDates()\r\n            this.resetFilter()\r\n          }else{\r\n            this.filterDataByDates()\r\n          }\r\n        }else{\r\n          this.resetFilter()\r\n        }\r\n    \r\n      }\r\n    \r\n    \r\n      filterDataByDates = () => {   \r\n          var tempData = []\r\n          var i=0\r\n          var j=0\r\n    \r\n          if(this.state.fromDate===null){\r\n           //fromdate Null\r\n    \r\n    \r\n           while(i<this.state.data.length){\r\n            if (this.state.data[i].created_at<this.state.toDate){\r\n              tempData[j]= this.state.data[i]\r\n              j++\r\n            }else if (this.state.data[i].created_at<this.state.toDate){\r\n              tempData[j]= this.state.data[i]\r\n              j++\r\n            }else if (this.state.data[i].created_at<this.state.toDate ){\r\n              tempData[j]= this.state.data[i]\r\n              j++\r\n            }            \r\n    \r\n            i++\r\n        }\r\n\r\n        this.state.data = tempData//set Data\r\n    \r\n          }else if(this.state.toDate===null){\r\n            //todate Null                           \r\n                                      \r\n           while(i<this.state.data.length){\r\n            if (this.state.data[i].created_at>this.state.fromDate){\r\n                tempData[j]= this.state.data[i]\r\n                j++\r\n            }else if (this.state.data[i].created_at>this.state.fromDate){\r\n                tempData[j]= this.state.data[i]\r\n                j++\r\n            }else if (this.state.data[i].created_at>this.state.fromDate ){\r\n                tempData[j]= this.state.data[i]\r\n                j++\r\n            }\r\n                   \r\n            i++\r\n        }\r\n    \r\n    \r\n        this.state.data = tempData //save filtered datas\r\n    \r\n          }else if(this.state.fromDate!==null && this.state.fromDate!==null){\r\n                   \r\n            while(i<this.state.data.length){\r\n              if (this.state.data[i].created_at>this.state.fromDate\r\n              && this.state.data[i].created_at<this.state.toDate){\r\n                tempData[j]= this.state.data[i]\r\n                j++\r\n              }else if (this.state.data[i].created_at>this.state.fromDate\r\n              && this.state.data[i].created_at<this.state.toDate){\r\n                tempData[j]= this.state.data[i]\r\n                j++\r\n              }else if (this.state.data[i].created_at>this.state.fromDate\r\n                  && this.state.data[i].created_at<this.state.toDate){\r\n                    tempData[j]= this.state.data[i]\r\n                    j++\r\n                  }\r\n               \r\n    \r\n              i++\r\n          }\r\n    \r\n         this.state.data = tempData //set Data\r\n    \r\n          }\r\n\r\n          this.handleQuery()\r\n    \r\n    \r\n      }\r\n\r\n      //END DATES FILTERS\r\n    \r\n      // CATEGORY\r\n      handleCategory = (event) => {\r\n        this.state.flagType = event.target.value        \r\n        this.handleQuery()\r\n      }\r\n\r\n      //END CATEGORY\r\n\r\n\r\n\r\n      handleTags = (tags) => {\r\n        if(tags.length>this.state.tags.length){\r\n          this.state.tags = tags\r\n          this.filterByTags(tags)\r\n          this.handleQuery()\r\n        }else{\r\n          this.state.tags = tags\r\n          this.resetFilter()\r\n\r\n        }\r\n      }\r\n      \r\n      filterByTags = (tags) => {\r\n        \r\n        var i =0\r\n        var j =0\r\n        var k = 0\r\n        var z = 0\r\n        var temp\r\n        var tempData = []\r\n        var flag = false\r\n\r\n        //this.setState({oldData: this.state.data}) //save last data state\r\n        \r\n        while(i<this.state.data.length){\r\n          j=0\r\n          if(this.state.data[i].tags!==undefined){\r\n            while(j<this.state.data[i].tags.tag_me.length){\r\n              temp=this.state.data[i].tags.tag_me[j].split(\" : \")\r\n              \r\n              while(k<tags.length){\r\n                if(temp.some(a => a.includes(tags[k].name))===true){\r\n                  flag = true               \r\n                }else{\r\n                  flag = false\r\n                }\r\n                k++\r\n              }\r\n  \r\n              if(flag===true){\r\n                tempData[z]= this.state.data[i]\r\n                z++\r\n              }\r\n              k=0\r\n              j++\r\n            }\r\n          }\r\n\r\n          i++\r\n        }\r\n\r\n        this.state.data = tempData //set Data\r\n        \r\n        \r\n        \r\n      }\r\n\r\n\r\n      \r\n/// TEXT SECTION\r\n\r\nhandleText = (text) => {\r\n  if(text.length>this.state.text.length){\r\n\r\n    this.state.text=text \r\n    this.filterByText(text)\r\n    this.handleQuery()\r\n  }else{\r\n   this.state.text=text \r\n   this.resetFilter()\r\n  }\r\n}\r\n\r\nfilterByText = (text) => {\r\n\r\n  var i =0\r\n  var j =0\r\n  var k = 0\r\n  var z = 0\r\n  var temp\r\n  var tempData = []\r\n  var flag = false\r\n  \r\n  while(i<this.state.data.length){\r\n    j=0\r\n    if(this.state.data[i].spacy!==undefined){\r\n      while(j<this.state.data[i].spacy.processed_text.length){\r\n        temp=this.state.data[i].spacy.processed_text[j].split(\" \")\r\n        \r\n        while(k<text.length){\r\n          if(temp.some(a => a.includes(text[k].name))===true){\r\n            flag = true               \r\n          }else{\r\n            flag = false\r\n          }\r\n          k++\r\n        }\r\n  \r\n        if(flag===true){\r\n          tempData[z]= this.state.data[i]\r\n          z++\r\n        }\r\n        k=0\r\n        j++\r\n      }\r\n    }\r\n\r\n    i++\r\n  }\r\n\r\n \r\n  this.state.data=tempData\r\n  this.state.totalTweets=tempData.length\r\n\r\n  \r\n}\r\n\r\n/// HASHTAGS SECTION\r\n\r\nhandleHashtags = (hashtags) => {\r\n  if(hashtags.length>this.state.hashtags.length){\r\n    this.state.hashtags=hashtags\r\n    this.filterByHashtags(hashtags)\r\n    this.handleQuery()\r\n  }else{\r\n    this.state.hashtags=hashtags\r\n    this.resetFilter()\r\n  }\r\n}\r\n\r\nfilterByHashtags = (hashtags) => {\r\n  var i =0\r\n  var j =0\r\n  var k = 0\r\n  var z = 0\r\n  var temp\r\n  var tempData = []\r\n  var flag = false\r\n\r\n  while(i<this.state.data.length){\r\n    j=0\r\n    if(this.state.data[i].twitter_entities!==undefined){\r\n    if(this.state.data[i].twitter_entities.hashtags!==undefined){\r\n      while(j<this.state.data[i].twitter_entities.hashtags.length){\r\n        temp=this.state.data[i].twitter_entities.hashtags[j]\r\n       \r\n        while(k<hashtags.length){\r\n          if(temp===hashtags[k].name){\r\n            flag = true               \r\n          }else{\r\n            flag = false\r\n          }\r\n          k++\r\n        }\r\n\r\n        if(flag===true){\r\n          tempData[z]= this.state.data[i]\r\n          z++\r\n        }\r\n        k=0\r\n        j++\r\n      }\r\n    }\r\n  }\r\n\r\n    i++\r\n  }\r\n\r\n         \r\n  this.state.data=tempData\r\n  this.state.totalTweets=tempData.length\r\n  \r\n}\r\n\r\n  //QUERY SECTION  \r\nhandleQuery = () => {\r\n  if(this.state.data.length===0){\r\n    \r\n    var tempCounter = {\r\n      positive:0,\r\n      negative:0,\r\n      neutral:0\r\n    }\r\n    this.state.totalTweets=0\r\n    this.state.counter = tempCounter //reset counter\r\n    this.sendData()\r\n    \r\n  }else{\r\n    this.state.totalTweets=this.state.data.length\r\n    this.query()\r\n  }\r\n}\r\n\r\n      query = () => {\r\n       \r\n        var negative = 0;\r\n        var positive = 0;\r\n        var neutral = 0;\r\n        var joy = 0;\r\n        var sadness=0;\r\n        var anger = 0;\r\n        var fear = 0;\r\n\r\n        var i=0;\r\n        var tempCounter;\r\n        var feelCounter;\r\n        \r\n        if (this.state.flagType===0 || this.state.flagType==='0') {               \r\n          while(i<this.state.data.length){\r\n            if(this.state.data[i].sentiment!==undefined){\r\n              if(this.state.data[i].sentiment['sent-it']!==undefined){\r\n            \r\n            if (this.state.data[i].sentiment['sent-it'].sentiment==='negative')\r\n              negative++\r\n            else if (this.state.data[i].sentiment['sent-it'].sentiment==='positive')\r\n              positive ++\r\n            else\r\n              neutral ++\r\n              }\r\n            }\r\n            i++\r\n          }\r\n          i=0;\r\n          while(i<this.state.data.length){\r\n            if(this.state.data[i].sentiment!==undefined){\r\n              if(this.state.data[i].sentiment['feel-it']!==undefined){\r\n            if (this.state.data[i].sentiment['feel-it'].sentiment==='negative')\r\n              negative++\r\n            else if (this.state.data[i].sentiment['feel-it'].sentiment==='positive')\r\n              positive ++\r\n            else\r\n              neutral ++\r\n              }}\r\n            i++\r\n          }\r\n    \r\n          tempCounter = {\r\n            positive: positive,\r\n            negative: negative,\r\n            neutral: neutral,\r\n         }\r\n\r\n        }else if(this.state.flagType===1 || this.state.flagType==='1'){\r\n        \r\n          while(i<this.state.data.length){\r\n              if(this.state.data[i].sentiment!==undefined){\r\n                if(this.state.data[i].sentiment['sent-it']!==undefined){\r\n\r\n            if (this.state.data[i].sentiment['sent-it'].sentiment==='negative')\r\n              negative++\r\n            else if (this.state.data[i].sentiment['sent-it'].sentiment==='positive')\r\n              positive ++\r\n            else\r\n              neutral ++\r\n            \r\n\r\n              }\r\n            }\r\n            i++\r\n          }\r\n          tempCounter = {\r\n            positive: positive,\r\n            negative: negative,\r\n            neutral: neutral,\r\n         }\r\n\r\n          \r\n        }else{\r\n          \r\n          \r\n          while(i<this.state.data.length){\r\n            if(this.state.data[i].sentiment!==undefined){\r\n              if(this.state.data[i].sentiment['feel-it']!==undefined){\r\n            if (this.state.data[i].sentiment['feel-it'].sentiment==='negative')\r\n              negative++\r\n            else if (this.state.data[i].sentiment['feel-it'].sentiment==='positive')\r\n              positive ++\r\n            else\r\n              neutral ++\r\n              }\r\n               //Get Emotion\r\n\r\n              if(this.state.data[i].sentiment['feel-it'].emotion==='joy'){\r\n                joy++;\r\n              }else if(this.state.data[i].sentiment['feel-it'].emotion==='anger'){\r\n                anger++;\r\n              }else if(this.state.data[i].sentiment['feel-it'].emotion==='sadness'){\r\n                sadness++;\r\n              }else if(this.state.data[i].sentiment['feel-it'].emotion==='fear'){\r\n                fear++;\r\n              }\r\n            }        \r\n            \r\n\r\n            i++\r\n          }\r\n\r\n\r\n          feelCounter = {\r\n            joy: joy,\r\n            sadness: sadness,\r\n            anger: anger,\r\n            fear : fear\r\n         }\r\n\r\n          tempCounter = {\r\n            positive: positive,\r\n            negative: negative,\r\n            neutral: neutral,\r\n         }\r\n        }    \r\n        \r\n        this.state.counter = tempCounter\r\n        this.state.feelCounter = feelCounter\r\n\r\n         \r\n\r\n          \r\n\r\n        var dataGroupByDates=[{\r\n          id:null,\r\n          counterPositive:null,\r\n          counterNegative:null,\r\n          counterNeutral:null,\r\n        }]\r\n  \r\n        \r\n        var j = 0;\r\n        \r\n        if(this.state.data.length!==0){\r\n          var i =0;\r\n          var dt = this.state.data[i].created_at.substring(0, 10);\r\n          dataGroupByDates[0].id=dt;\r\n          i++\r\n          while(i<this.state.data.length){\r\n            if(this.state.data[i].sentiment!==undefined){\r\n              if(this.state.data[i].sentiment['feel-it']!==undefined){\r\n            \r\n            if(dataGroupByDates[j].id===this.state.data[i].created_at.substring(0, 10)){\r\n              if( this.state.data[i].sentiment['feel-it'].sentiment==='positive'){\r\n                dataGroupByDates[j].counterPositive++\r\n              }else if( this.state.data[i].sentiment['feel-it'].sentiment==='negative'){\r\n                dataGroupByDates[j].counterNegative++\r\n              }else if( this.state.data[i].sentiment['feel-it'].sentiment==='neutral'){\r\n                dataGroupByDates[j].counterNeutral++\r\n              }\r\n  \r\n  \r\n            }else{\r\n              j++;\r\n                dataGroupByDates.push({\r\n                id:this.state.data[i].created_at.substring(0, 10),\r\n                counterPositive:0,\r\n                counterNegative:0,\r\n                counterNeutral:0,\r\n              })\r\n              if( this.state.data[i].sentiment['feel-it'].sentiment==='positive'){\r\n                dataGroupByDates[j].counterPositive++\r\n              }else if( this.state.data[i].sentiment['feel-it'].sentiment==='negative'){\r\n                dataGroupByDates[j].counterNegative++\r\n              }else if( this.state.data[i].sentiment['feel-it'].sentiment==='neutral'){\r\n                dataGroupByDates[j].counterNeutral++\r\n              }\r\n            }\r\n          }\r\n        }\r\n            i++;\r\n          }\r\n          \r\n        }\r\n  \r\n        this.setState({dataGroupByDates : dataGroupByDates})\r\n        this.state.dataGroupByDates=dataGroupByDates     \r\n                    \r\n        this.sendData()\r\n      }\r\n\r\n\r\n      resetFilter = () => {\r\n\r\n        this.state.data= this.state.oldData\r\n\r\n        if(this.state.fromDate!==null || this.state.toDate!==null ){\r\n          this.filterDataByDates()\r\n        }\r\n        \r\n        if(this.state.tags.length!==0){\r\n          this.filterByTags(this.state.tags)\r\n        }\r\n\r\n        if(this.state.hashtags.length!==0){\r\n          this.filterByHashtags(this.state.hashtags)\r\n        }\r\n\r\n        if(this.state.text.length!==0){\r\n          this.filterByText(this.state.text)\r\n        }\r\n\r\n        this.handleQuery()\r\n\r\n      }\r\n\r\n    \r\n      sendData = () =>{\r\n        \r\n        this.props.parentCallback(this.state.dataGroupByDates,this.state.counter,this.state.flagType,this.state.feelCounter);\r\n      }\r\n      \r\n      \r\n\r\n    \r\n    render(){\r\n        return(            \r\n          <>\r\n            <div className=\"row stat-cards\">\r\n              <div className=\"col-md-4 col-xl-4\">\r\n                <article className=\"stat-cards-item\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12\">\r\n                      <div className=\"stat-cards-info\">\r\n                        <center><h4>Algorithm</h4><br />\r\n                          <select id=\"sel1\" onChange={this.handleCategory} >\r\n                            <option value=\"0\">All</option>\r\n                            <option value=\"1\">Sent-it</option>\r\n                            <option value=\"2\">Feel-it</option>\r\n\r\n                          </select>\r\n\r\n                        </center>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n\r\n                </article>\r\n              </div>\r\n              <div className=\"col-md-6 col-xl-6\">\r\n                <article className=\"stat-cards-item\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"stat-cards-info\">\r\n                        <center><h4>From </h4><br />\r\n                          <input type=\"date\" \r\n                          name=\"startDate\"\r\n                          onBlur={this.handleFromDatesChanges}/>\r\n\r\n                          \r\n                        </center>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"col-md-6\">\r\n                      <div className=\"stat-cards-info\">\r\n                        <center><h4>To </h4><br />\r\n                          <input type=\"date\"\r\n                          id=\"toDate\"\r\n                          onBlur={this.handleToDatesChanges} />\r\n                        </center>\r\n                      </div>\r\n                    </div> \r\n                \r\n                  </div>\r\n\r\n                </article>\r\n              </div>\r\n              <div className=\"col-md-2 col-xl-2\">\r\n                <article className=\"stat-cards-item\">\r\n                  <div className=\"row\">\r\n                    <div className=\"col-md-12 col-xl-12\">\r\n                      <div className=\"stat-cards-info\">\r\n                        <center><h4>Total Tweets</h4><br />\r\n                           <h1> {this.state.totalTweets} </h1>\r\n                          \r\n                        </center>\r\n                      </div>\r\n                    </div>\r\n\r\n\r\n                  </div>\r\n\r\n                </article>\r\n              </div>\r\n            </div>\r\n            <br></br>\r\n            <div className=\"row stat-cards\">\r\n            <div className=\"col-md-4 col-xl-4\">\r\n              <article className=\"stat-cards-item\">\r\n                <div className=\"row\">\r\n    \r\n                  <div className=\"col-md-12 col-xl-12\">\r\n                    <div className=\"stat-cards-info\">\r\n                      <center><h4>Tags</h4><br />\r\n                      <SearchFilters parentCallback = {this.handleTags.bind(this)} db = {this.props.db} allTags = {this.props.tweetsData.dataTags}/>\r\n                        \r\n                      </center>\r\n                    </div>\r\n                  </div>\r\n    \r\n    \r\n                </div>\r\n    \r\n              </article>\r\n            </div>\r\n    \r\n            <div className=\"col-md-4 col-xl-4\">\r\n              <article className=\"stat-cards-item\">\r\n                <div className=\"row\">\r\n    \r\n                  <div className=\"col-md-12 col-xl-12\">\r\n                    <div className=\"stat-cards-info\">\r\n                      <center><h4>Processed Text</h4><br />\r\n                      <SearchText parentCallback = {this.handleText.bind(this)} db = {this.props.db} allText = {this.props.tweetsData.dataText}/>\r\n                        \r\n                      </center>\r\n                    </div>\r\n                  </div>\r\n    \r\n    \r\n                </div>\r\n    \r\n              </article>\r\n            </div>\r\n    \r\n            <div className=\"col-md-4 col-xl-4\">\r\n              <article className=\"stat-cards-item\">\r\n                <div className=\"row\">\r\n    \r\n                  <div className=\"col-md-12 col-xl-12\">\r\n                    <div className=\"stat-cards-info\">\r\n                      <center><h4>Hashtags</h4><br />\r\n                      <SearchHashtag parentCallback = {this.handleHashtags.bind(this)} db = {this.props.db} allHashtags = {this.props.tweetsData.dataHashtags}/>\r\n                        \r\n                      </center>\r\n                    </div>\r\n                  </div>\r\n    \r\n    \r\n                </div>\r\n    \r\n              </article>\r\n            </div>\r\n    \r\n    \r\n          </div>\r\n          </>\r\n      )\r\n    }\r\n}\r\n\r\nexport default Filters"]},"metadata":{},"sourceType":"module"}