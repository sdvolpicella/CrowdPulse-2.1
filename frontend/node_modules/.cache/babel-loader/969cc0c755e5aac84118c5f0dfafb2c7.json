{"ast":null,"code":"(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('prop-types')) : typeof define === 'function' && define.amd ? define(['react', 'prop-types'], factory) : (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ReactTags = factory(global.React, global.PropTypes));\n})(this, function (React, PropTypes) {\n  'use strict';\n\n  function _interopDefaultLegacy(e) {\n    return e && typeof e === 'object' && 'default' in e ? e : {\n      'default': e\n    };\n  }\n\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\n\n  var PropTypes__default = /*#__PURE__*/_interopDefaultLegacy(PropTypes);\n\n  function Tag(props) {\n    return React__default['default'].createElement('button', {\n      type: 'button',\n      className: props.classNames.selectedTag,\n      title: props.removeButtonText,\n      onClick: props.onDelete\n    }, React__default['default'].createElement('span', {\n      className: props.classNames.selectedTagName\n    }, props.tag.name));\n  }\n\n  var SIZER_STYLES = {\n    position: 'absolute',\n    width: 0,\n    height: 0,\n    visibility: 'hidden',\n    overflow: 'scroll',\n    whiteSpace: 'pre'\n  };\n  var STYLE_PROPS = ['fontSize', 'fontFamily', 'fontWeight', 'fontStyle', 'letterSpacing', 'textTransform'];\n\n  var Input = /*@__PURE__*/function (superclass) {\n    function Input(props) {\n      superclass.call(this, props);\n      this.state = {\n        inputWidth: null\n      };\n      this.input = React__default['default'].createRef();\n      this.sizer = React__default['default'].createRef();\n    }\n\n    if (superclass) Input.__proto__ = superclass;\n    Input.prototype = Object.create(superclass && superclass.prototype);\n    Input.prototype.constructor = Input;\n\n    Input.prototype.componentDidMount = function componentDidMount() {\n      if (this.props.autoresize) {\n        this.copyInputStyles();\n        this.updateInputWidth();\n      }\n    };\n\n    Input.prototype.componentDidUpdate = function componentDidUpdate(ref) {\n      var query = ref.query;\n      var placeholderText = ref.placeholderText;\n\n      if (query !== this.props.query || placeholderText !== this.props.placeholderText) {\n        this.updateInputWidth();\n      }\n    };\n\n    Input.prototype.copyInputStyles = function copyInputStyles() {\n      var this$1$1 = this;\n      var inputStyle = window.getComputedStyle(this.input.current);\n      STYLE_PROPS.forEach(function (prop) {\n        this$1$1.sizer.current.style[prop] = inputStyle[prop];\n      });\n    };\n\n    Input.prototype.updateInputWidth = function updateInputWidth() {\n      var inputWidth;\n\n      if (this.props.autoresize) {\n        // scrollWidth is designed to be fast not accurate.\n        // +2 is completely arbitrary but does the job.\n        inputWidth = Math.ceil(this.sizer.current.scrollWidth) + 2;\n      }\n\n      if (inputWidth !== this.state.inputWidth) {\n        this.setState({\n          inputWidth: inputWidth\n        });\n      }\n    };\n\n    Input.prototype.render = function render() {\n      var ref = this.props;\n      var id = ref.id;\n      var query = ref.query;\n      var ariaLabelText = ref.ariaLabelText;\n      var placeholderText = ref.placeholderText;\n      var expanded = ref.expanded;\n      var classNames = ref.classNames;\n      var inputAttributes = ref.inputAttributes;\n      var inputEventHandlers = ref.inputEventHandlers;\n      var index = ref.index;\n      return React__default['default'].createElement('div', {\n        className: classNames.searchWrapper\n      }, React__default['default'].createElement('input', Object.assign({}, inputAttributes, inputEventHandlers, {\n        ref: this.input,\n        value: query,\n        placeholder: placeholderText,\n        className: classNames.searchInput,\n        role: 'combobox',\n        'aria-autocomplete': 'list',\n        'aria-label': ariaLabelText || placeholderText,\n        'aria-owns': id,\n        'aria-activedescendant': index > -1 ? id + \"-\" + index : null,\n        'aria-expanded': expanded,\n        style: {\n          width: this.state.inputWidth\n        }\n      })), React__default['default'].createElement('div', {\n        ref: this.sizer,\n        style: SIZER_STYLES\n      }, query || placeholderText));\n    };\n\n    return Input;\n  }(React__default['default'].Component);\n\n  function escapeForRegExp(string) {\n    return string.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n  }\n\n  function matchAny(string) {\n    return new RegExp(escapeForRegExp(string), 'gi');\n  }\n\n  function matchPartial(string) {\n    return new RegExp(\"(?:^|\\\\s)\" + escapeForRegExp(string), 'i');\n  }\n\n  function matchExact(string) {\n    return new RegExp(\"^\" + escapeForRegExp(string) + \"$\", 'i');\n  }\n\n  function markIt(name, query) {\n    var regexp = matchAny(query);\n    return name.replace(regexp, '<mark>$&</mark>');\n  }\n\n  function DefaultSuggestionComponent(ref) {\n    var item = ref.item;\n    var query = ref.query;\n    return React__default['default'].createElement('span', {\n      dangerouslySetInnerHTML: {\n        __html: markIt(item.name, query)\n      }\n    });\n  }\n\n  function Suggestions(props) {\n    var SuggestionComponent = props.suggestionComponent || DefaultSuggestionComponent;\n    var options = props.options.map(function (item, index) {\n      var key = props.id + \"-\" + index;\n      var classNames = [];\n\n      if (props.index === index) {\n        classNames.push(props.classNames.suggestionActive);\n      }\n\n      if (item.disabled) {\n        classNames.push(props.classNames.suggestionDisabled);\n      }\n\n      return React__default['default'].createElement('li', {\n        id: key,\n        key: key,\n        role: 'option',\n        className: classNames.join(' '),\n        'aria-disabled': Boolean(item.disabled),\n        onMouseDown: function onMouseDown(e) {\n          return e.preventDefault();\n        },\n        onClick: function onClick() {\n          return props.addTag(item);\n        }\n      }, item.prefix ? React__default['default'].createElement('span', {\n        className: props.classNames.suggestionPrefix\n      }, item.prefix, ' ') : null, item.disableMarkIt ? item.name : React__default['default'].createElement(SuggestionComponent, {\n        item: item,\n        query: props.query\n      }));\n    });\n    return React__default['default'].createElement('div', {\n      className: props.classNames.suggestions\n    }, React__default['default'].createElement('ul', {\n      role: 'listbox',\n      id: props.id\n    }, options));\n  }\n\n  function focusNextElement(scope, currentTarget) {\n    var interactiveEls = scope.querySelectorAll('a,button,input');\n    var currentEl = Array.prototype.findIndex.call(interactiveEls, function (element) {\n      return element === currentTarget;\n    });\n    var nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1];\n\n    if (nextEl) {\n      nextEl.focus();\n    }\n  }\n\n  var KEYS = {\n    ENTER: 'Enter',\n    TAB: 'Tab',\n    BACKSPACE: 'Backspace',\n    UP_ARROW: 'ArrowUp',\n    UP_ARROW_COMPAT: 'Up',\n    DOWN_ARROW: 'ArrowDown',\n    DOWN_ARROW_COMPAT: 'Down'\n  };\n  var CLASS_NAMES = {\n    root: 'react-tags',\n    rootFocused: 'is-focused',\n    selected: 'react-tags__selected',\n    selectedTag: 'react-tags__selected-tag',\n    selectedTagName: 'react-tags__selected-tag-name',\n    search: 'react-tags__search',\n    searchWrapper: 'react-tags__search-wrapper',\n    searchInput: 'react-tags__search-input',\n    suggestions: 'react-tags__suggestions',\n    suggestionActive: 'is-active',\n    suggestionDisabled: 'is-disabled',\n    suggestionPrefix: 'react-tags__suggestion-prefix'\n  };\n\n  function findMatchIndex(options, query) {\n    return options.findIndex(function (option) {\n      return matchExact(query).test(option.name);\n    });\n  }\n\n  function pressDelimiter() {\n    if (this.state.query.length >= this.props.minQueryLength) {\n      // Check if the user typed in an existing suggestion.\n      var match = findMatchIndex(this.state.options, this.state.query);\n      var index = this.state.index === -1 ? match : this.state.index;\n      var tag = index > -1 ? this.state.options[index] : null;\n\n      if (tag) {\n        this.addTag(tag);\n      } else if (this.props.allowNew) {\n        this.addTag({\n          name: this.state.query\n        });\n      }\n    }\n  }\n\n  function pressUpKey(e) {\n    e.preventDefault(); // if first item, cycle to the bottom\n\n    var size = this.state.options.length - 1;\n    this.setState({\n      index: this.state.index <= 0 ? size : this.state.index - 1\n    });\n  }\n\n  function pressDownKey(e) {\n    e.preventDefault(); // if last item, cycle to top\n\n    var size = this.state.options.length - 1;\n    this.setState({\n      index: this.state.index >= size ? 0 : this.state.index + 1\n    });\n  }\n\n  function pressBackspaceKey() {\n    // when backspace key is pressed and query is blank, delete the last tag\n    if (!this.state.query.length) {\n      this.deleteTag(this.props.tags.length - 1);\n    }\n  }\n\n  function defaultSuggestionsFilter(item, query) {\n    var regexp = matchPartial(query);\n    return regexp.test(item.name);\n  }\n\n  function getOptions(props, state) {\n    var options;\n\n    if (props.suggestionsTransform) {\n      options = props.suggestionsTransform(state.query, props.suggestions);\n    } else {\n      options = props.suggestions.filter(function (item) {\n        return props.suggestionsFilter(item, state.query);\n      });\n    }\n\n    options = options.slice(0, props.maxSuggestionsLength);\n\n    if (props.allowNew && props.newTagText && findMatchIndex(options, state.query) === -1) {\n      options.push({\n        id: 0,\n        name: state.query,\n        prefix: props.newTagText,\n        disableMarkIt: true\n      });\n    } else if (props.noSuggestionsText && options.length === 0) {\n      options.push({\n        id: 0,\n        name: props.noSuggestionsText,\n        disabled: true,\n        disableMarkIt: true\n      });\n    }\n\n    return options;\n  }\n\n  var ReactTags = /*@__PURE__*/function (superclass) {\n    function ReactTags(props) {\n      superclass.call(this, props);\n      this.state = {\n        query: '',\n        focused: false,\n        index: -1\n      };\n      this.inputEventHandlers = {\n        // Provide a no-op function to the input component to avoid warnings\n        // <https://github.com/i-like-robots/react-tags/issues/135>\n        // <https://github.com/facebook/react/issues/13835>\n        onChange: function onChange() {},\n        onBlur: this.onBlur.bind(this),\n        onFocus: this.onFocus.bind(this),\n        onInput: this.onInput.bind(this),\n        onKeyDown: this.onKeyDown.bind(this)\n      };\n      this.container = React__default['default'].createRef();\n      this.input = React__default['default'].createRef();\n    }\n\n    if (superclass) ReactTags.__proto__ = superclass;\n    ReactTags.prototype = Object.create(superclass && superclass.prototype);\n    ReactTags.prototype.constructor = ReactTags;\n\n    ReactTags.prototype.onInput = function onInput(e) {\n      var query = e.target.value;\n\n      if (this.props.onInput) {\n        this.props.onInput(query);\n      } // NOTE: This test is a last resort for soft keyboards and browsers which do not\n      // support `KeyboardEvent.key`.\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=763559>\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=118639>\n\n\n      if (query.length === this.state.query.length + 1 && this.props.delimiters.indexOf(query.slice(-1)) > -1) {\n        pressDelimiter.call(this);\n      } else if (query !== this.state.query) {\n        this.setState({\n          query: query\n        });\n      }\n    };\n\n    ReactTags.prototype.onKeyDown = function onKeyDown(e) {\n      // when one of the terminating keys is pressed, add current query to the tags\n      if (this.props.delimiters.indexOf(e.key) > -1) {\n        if (this.state.query || this.state.index > -1) {\n          e.preventDefault();\n        }\n\n        pressDelimiter.call(this);\n      } // when backspace key is pressed and query is blank, delete the last tag\n\n\n      if (e.key === KEYS.BACKSPACE && this.props.allowBackspace) {\n        pressBackspaceKey.call(this, e);\n      }\n\n      if (e.key === KEYS.UP_ARROW || e.key === KEYS.UP_ARROW_COMPAT) {\n        pressUpKey.call(this, e);\n      }\n\n      if (e.key === KEYS.DOWN_ARROW || e.key === KEYS.DOWN_ARROW_COMPAT) {\n        pressDownKey.call(this, e);\n      }\n    };\n\n    ReactTags.prototype.onClick = function onClick(e) {\n      if (document.activeElement !== e.target) {\n        this.focusInput();\n      }\n    };\n\n    ReactTags.prototype.onBlur = function onBlur() {\n      this.setState({\n        focused: false,\n        index: -1\n      });\n\n      if (this.props.onBlur) {\n        this.props.onBlur();\n      }\n\n      if (this.props.addOnBlur) {\n        pressDelimiter.call(this);\n      }\n    };\n\n    ReactTags.prototype.onFocus = function onFocus() {\n      this.setState({\n        focused: true\n      });\n\n      if (this.props.onFocus) {\n        this.props.onFocus();\n      }\n    };\n\n    ReactTags.prototype.onDeleteTag = function onDeleteTag(index, event) {\n      // Because we'll destroy the element with cursor focus we need to ensure\n      // it does not get lost and move it to the next interactive element\n      if (this.container.current) {\n        focusNextElement(this.container.current, event.currentTarget);\n      }\n\n      this.deleteTag(index);\n    };\n\n    ReactTags.prototype.addTag = function addTag(tag) {\n      if (tag.disabled) {\n        return;\n      }\n\n      if (typeof this.props.onValidate === 'function' && !this.props.onValidate(tag)) {\n        return;\n      }\n\n      this.props.onAddition({\n        id: tag.id,\n        name: tag.name\n      });\n      this.clearInput();\n    };\n\n    ReactTags.prototype.deleteTag = function deleteTag(i) {\n      this.props.onDelete(i);\n    };\n\n    ReactTags.prototype.clearInput = function clearInput() {\n      this.setState({\n        query: '',\n        index: -1\n      });\n    };\n\n    ReactTags.prototype.clearSelectedIndex = function clearSelectedIndex() {\n      this.setState({\n        index: -1\n      });\n    };\n\n    ReactTags.prototype.focusInput = function focusInput() {\n      if (this.input.current && this.input.current.input.current) {\n        this.input.current.input.current.focus();\n      }\n    };\n\n    ReactTags.prototype.render = function render() {\n      var this$1$1 = this;\n      var TagComponent = this.props.tagComponent || Tag;\n      var expanded = this.state.focused && this.state.query.length >= this.props.minQueryLength;\n      var classNames = Object.assign({}, CLASS_NAMES, this.props.classNames);\n      var rootClassNames = [classNames.root];\n      this.state.focused && rootClassNames.push(classNames.rootFocused);\n      return React__default['default'].createElement('div', {\n        ref: this.container,\n        className: rootClassNames.join(' '),\n        onClick: this.onClick.bind(this)\n      }, React__default['default'].createElement('div', {\n        className: classNames.selected,\n        'aria-relevant': 'additions removals',\n        'aria-live': 'polite'\n      }, this.props.tags.map(function (tag, i) {\n        return React__default['default'].createElement(TagComponent, {\n          key: i,\n          tag: tag,\n          removeButtonText: this$1$1.props.removeButtonText,\n          classNames: classNames,\n          onDelete: this$1$1.onDeleteTag.bind(this$1$1, i)\n        });\n      })), React__default['default'].createElement('div', {\n        className: classNames.search\n      }, React__default['default'].createElement(Input, Object.assign({}, this.state, {\n        id: this.props.id,\n        ref: this.input,\n        classNames: classNames,\n        inputAttributes: this.props.inputAttributes,\n        inputEventHandlers: this.inputEventHandlers,\n        autoresize: this.props.autoresize,\n        expanded: expanded,\n        placeholderText: this.props.placeholderText,\n        ariaLabelText: this.props.ariaLabelText\n      })), expanded && this.state.options.length ? React__default['default'].createElement(Suggestions, Object.assign({}, this.state, {\n        id: this.props.id,\n        classNames: classNames,\n        expanded: expanded,\n        addTag: this.addTag.bind(this),\n        suggestionComponent: this.props.suggestionComponent\n      })) : null));\n    };\n\n    ReactTags.getDerivedStateFromProps = function getDerivedStateFromProps(props, state) {\n      if (state.prevQuery !== state.query || state.prevSuggestions !== props.suggestions) {\n        return {\n          prevQuery: state.query,\n          prevSuggestions: props.suggestions,\n          options: getOptions(props, state)\n        };\n      }\n\n      return null;\n    };\n\n    return ReactTags;\n  }(React__default['default'].Component);\n\n  ReactTags.defaultProps = {\n    id: 'ReactTags',\n    tags: [],\n    placeholderText: 'Add new tag',\n    removeButtonText: 'Click to remove tag',\n    noSuggestionsText: null,\n    newTagText: null,\n    suggestions: [],\n    suggestionsFilter: defaultSuggestionsFilter,\n    suggestionsTransform: null,\n    autoresize: true,\n    classNames: CLASS_NAMES,\n    delimiters: [KEYS.TAB, KEYS.ENTER],\n    minQueryLength: 2,\n    maxSuggestionsLength: 6,\n    allowNew: false,\n    allowBackspace: true,\n    addOnBlur: false,\n    tagComponent: null,\n    suggestionComponent: null,\n    inputAttributes: {}\n  };\n  ReactTags.propTypes = {\n    id: PropTypes__default['default'].string,\n    tags: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),\n    placeholderText: PropTypes__default['default'].string,\n    ariaLabelText: PropTypes__default['default'].string,\n    removeButtonText: PropTypes__default['default'].string,\n    noSuggestionsText: PropTypes__default['default'].string,\n    newTagText: PropTypes__default['default'].string,\n    suggestions: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),\n    suggestionsFilter: PropTypes__default['default'].func,\n    suggestionsTransform: PropTypes__default['default'].func,\n    autoresize: PropTypes__default['default'].bool,\n    delimiters: PropTypes__default['default'].arrayOf(PropTypes__default['default'].string),\n    onDelete: PropTypes__default['default'].func.isRequired,\n    onAddition: PropTypes__default['default'].func.isRequired,\n    onInput: PropTypes__default['default'].func,\n    onFocus: PropTypes__default['default'].func,\n    onBlur: PropTypes__default['default'].func,\n    onValidate: PropTypes__default['default'].func,\n    minQueryLength: PropTypes__default['default'].number,\n    maxSuggestionsLength: PropTypes__default['default'].number,\n    classNames: PropTypes__default['default'].object,\n    allowNew: PropTypes__default['default'].bool,\n    allowBackspace: PropTypes__default['default'].bool,\n    addOnBlur: PropTypes__default['default'].bool,\n    tagComponent: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element]),\n    suggestionComponent: PropTypes__default['default'].oneOfType([PropTypes__default['default'].func, PropTypes__default['default'].element]),\n    inputAttributes: PropTypes__default['default'].object\n  };\n  return ReactTags;\n});","map":{"version":3,"sources":["C:/Users/Giovanni/wa/CrowdPulse/frontend/node_modules/react-tag-autocomplete/dist/ReactTags.umd.js"],"names":["global","factory","exports","module","require","define","amd","globalThis","self","ReactTags","React","PropTypes","_interopDefaultLegacy","e","React__default","PropTypes__default","Tag","props","createElement","type","className","classNames","selectedTag","title","removeButtonText","onClick","onDelete","selectedTagName","tag","name","SIZER_STYLES","position","width","height","visibility","overflow","whiteSpace","STYLE_PROPS","Input","superclass","call","state","inputWidth","input","createRef","sizer","__proto__","prototype","Object","create","constructor","componentDidMount","autoresize","copyInputStyles","updateInputWidth","componentDidUpdate","ref","query","placeholderText","this$1$1","inputStyle","window","getComputedStyle","current","forEach","prop","style","Math","ceil","scrollWidth","setState","render","id","ariaLabelText","expanded","inputAttributes","inputEventHandlers","index","searchWrapper","assign","value","placeholder","searchInput","role","Component","escapeForRegExp","string","replace","matchAny","RegExp","matchPartial","matchExact","markIt","regexp","DefaultSuggestionComponent","item","dangerouslySetInnerHTML","__html","Suggestions","SuggestionComponent","suggestionComponent","options","map","key","push","suggestionActive","disabled","suggestionDisabled","join","Boolean","onMouseDown","preventDefault","addTag","prefix","suggestionPrefix","disableMarkIt","suggestions","focusNextElement","scope","currentTarget","interactiveEls","querySelectorAll","currentEl","Array","findIndex","element","nextEl","focus","KEYS","ENTER","TAB","BACKSPACE","UP_ARROW","UP_ARROW_COMPAT","DOWN_ARROW","DOWN_ARROW_COMPAT","CLASS_NAMES","root","rootFocused","selected","search","findMatchIndex","option","test","pressDelimiter","length","minQueryLength","match","allowNew","pressUpKey","size","pressDownKey","pressBackspaceKey","deleteTag","tags","defaultSuggestionsFilter","getOptions","suggestionsTransform","filter","suggestionsFilter","slice","maxSuggestionsLength","newTagText","noSuggestionsText","focused","onChange","onBlur","bind","onFocus","onInput","onKeyDown","container","target","delimiters","indexOf","allowBackspace","document","activeElement","focusInput","addOnBlur","onDeleteTag","event","onValidate","onAddition","clearInput","i","clearSelectedIndex","TagComponent","tagComponent","rootClassNames","getDerivedStateFromProps","prevQuery","prevSuggestions","defaultProps","propTypes","arrayOf","object","func","bool","isRequired","number","oneOfType"],"mappings":"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","sourcesContent":["(function (global, factory) {\r\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('react'), require('prop-types')) :\r\n  typeof define === 'function' && define.amd ? define(['react', 'prop-types'], factory) :\r\n  (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.ReactTags = factory(global.React, global.PropTypes));\r\n}(this, (function (React, PropTypes) { 'use strict';\r\n\r\n  function _interopDefaultLegacy (e) { return e && typeof e === 'object' && 'default' in e ? e : { 'default': e }; }\r\n\r\n  var React__default = /*#__PURE__*/_interopDefaultLegacy(React);\r\n  var PropTypes__default = /*#__PURE__*/_interopDefaultLegacy(PropTypes);\r\n\r\n  function Tag (props) {\r\n    return (\r\n      React__default['default'].createElement( 'button', { type: 'button', className: props.classNames.selectedTag, title: props.removeButtonText, onClick: props.onDelete },\r\n        React__default['default'].createElement( 'span', { className: props.classNames.selectedTagName }, props.tag.name)\r\n      )\r\n    )\r\n  }\r\n\r\n  var SIZER_STYLES = {\r\n    position: 'absolute',\r\n    width: 0,\r\n    height: 0,\r\n    visibility: 'hidden',\r\n    overflow: 'scroll',\r\n    whiteSpace: 'pre'\r\n  };\r\n\r\n  var STYLE_PROPS = [\r\n    'fontSize',\r\n    'fontFamily',\r\n    'fontWeight',\r\n    'fontStyle',\r\n    'letterSpacing',\r\n    'textTransform'\r\n  ];\r\n\r\n  var Input = /*@__PURE__*/(function (superclass) {\r\n    function Input (props) {\r\n      superclass.call(this, props);\r\n      this.state = { inputWidth: null };\r\n\r\n      this.input = React__default['default'].createRef();\r\n      this.sizer = React__default['default'].createRef();\r\n    }\r\n\r\n    if ( superclass ) Input.__proto__ = superclass;\r\n    Input.prototype = Object.create( superclass && superclass.prototype );\r\n    Input.prototype.constructor = Input;\r\n\r\n    Input.prototype.componentDidMount = function componentDidMount () {\r\n      if (this.props.autoresize) {\r\n        this.copyInputStyles();\r\n        this.updateInputWidth();\r\n      }\r\n    };\r\n\r\n    Input.prototype.componentDidUpdate = function componentDidUpdate (ref) {\r\n      var query = ref.query;\r\n      var placeholderText = ref.placeholderText;\r\n\r\n      if (query !== this.props.query || placeholderText !== this.props.placeholderText) {\r\n        this.updateInputWidth();\r\n      }\r\n    };\r\n\r\n    Input.prototype.copyInputStyles = function copyInputStyles () {\r\n      var this$1$1 = this;\r\n\r\n      var inputStyle = window.getComputedStyle(this.input.current);\r\n\r\n      STYLE_PROPS.forEach(function (prop) {\r\n        this$1$1.sizer.current.style[prop] = inputStyle[prop];\r\n      });\r\n    };\r\n\r\n    Input.prototype.updateInputWidth = function updateInputWidth () {\r\n      var inputWidth;\r\n\r\n      if (this.props.autoresize) {\r\n        // scrollWidth is designed to be fast not accurate.\r\n        // +2 is completely arbitrary but does the job.\r\n        inputWidth = Math.ceil(this.sizer.current.scrollWidth) + 2;\r\n      }\r\n\r\n      if (inputWidth !== this.state.inputWidth) {\r\n        this.setState({ inputWidth: inputWidth });\r\n      }\r\n    };\r\n\r\n    Input.prototype.render = function render () {\r\n      var ref = this.props;\r\n      var id = ref.id;\r\n      var query = ref.query;\r\n      var ariaLabelText = ref.ariaLabelText;\r\n      var placeholderText = ref.placeholderText;\r\n      var expanded = ref.expanded;\r\n      var classNames = ref.classNames;\r\n      var inputAttributes = ref.inputAttributes;\r\n      var inputEventHandlers = ref.inputEventHandlers;\r\n      var index = ref.index;\r\n\r\n      return (\r\n        React__default['default'].createElement( 'div', { className: classNames.searchWrapper },\r\n          React__default['default'].createElement( 'input', Object.assign({},\r\n            inputAttributes, inputEventHandlers, { ref: this.input, value: query, placeholder: placeholderText, className: classNames.searchInput, role: 'combobox', 'aria-autocomplete': 'list', 'aria-label': ariaLabelText || placeholderText, 'aria-owns': id, 'aria-activedescendant': index > -1 ? (id + \"-\" + index) : null, 'aria-expanded': expanded, style: { width: this.state.inputWidth } })),\r\n          React__default['default'].createElement( 'div', { ref: this.sizer, style: SIZER_STYLES }, query || placeholderText)\r\n        )\r\n      )\r\n    };\r\n\r\n    return Input;\r\n  }(React__default['default'].Component));\r\n\r\n  function escapeForRegExp (string) {\r\n    return string.replace(/[-\\\\^$*+?.()|[\\]{}]/g, '\\\\$&')\r\n  }\r\n\r\n  function matchAny (string) {\r\n    return new RegExp(escapeForRegExp(string), 'gi')\r\n  }\r\n\r\n  function matchPartial (string) {\r\n    return new RegExp((\"(?:^|\\\\s)\" + (escapeForRegExp(string))), 'i')\r\n  }\r\n\r\n  function matchExact (string) {\r\n    return new RegExp((\"^\" + (escapeForRegExp(string)) + \"$\"), 'i')\r\n  }\r\n\r\n  function markIt (name, query) {\r\n    var regexp = matchAny(query);\r\n    return name.replace(regexp, '<mark>$&</mark>')\r\n  }\r\n\r\n  function DefaultSuggestionComponent (ref) {\r\n    var item = ref.item;\r\n    var query = ref.query;\r\n\r\n    return (\r\n      React__default['default'].createElement( 'span', { dangerouslySetInnerHTML: { __html: markIt(item.name, query) } })\r\n    )\r\n  }\r\n\r\n  function Suggestions (props) {\r\n    var SuggestionComponent = props.suggestionComponent || DefaultSuggestionComponent;\r\n\r\n    var options = props.options.map(function (item, index) {\r\n      var key = (props.id) + \"-\" + index;\r\n      var classNames = [];\r\n\r\n      if (props.index === index) {\r\n        classNames.push(props.classNames.suggestionActive);\r\n      }\r\n\r\n      if (item.disabled) {\r\n        classNames.push(props.classNames.suggestionDisabled);\r\n      }\r\n\r\n      return (\r\n        React__default['default'].createElement( 'li', {\r\n          id: key, key: key, role: 'option', className: classNames.join(' '), 'aria-disabled': Boolean(item.disabled), onMouseDown: function (e) { return e.preventDefault(); }, onClick: function () { return props.addTag(item); } },\r\n          item.prefix\r\n            ? React__default['default'].createElement( 'span', { className: props.classNames.suggestionPrefix }, item.prefix, ' ')\r\n            : null,\r\n          item.disableMarkIt\r\n            ? item.name\r\n            : React__default['default'].createElement( SuggestionComponent, { item: item, query: props.query })\r\n        )\r\n      )\r\n    });\r\n\r\n    return (\r\n      React__default['default'].createElement( 'div', { className: props.classNames.suggestions },\r\n        React__default['default'].createElement( 'ul', { role: 'listbox', id: props.id }, options)\r\n      )\r\n    )\r\n  }\r\n\r\n  function focusNextElement (scope, currentTarget) {\r\n    var interactiveEls = scope.querySelectorAll('a,button,input');\r\n\r\n    var currentEl = Array.prototype.findIndex.call(\r\n      interactiveEls,\r\n      function (element) { return element === currentTarget; }\r\n    );\r\n\r\n    var nextEl = interactiveEls[currentEl - 1] || interactiveEls[currentEl + 1];\r\n\r\n    if (nextEl) {\r\n      nextEl.focus();\r\n    }\r\n  }\r\n\r\n  var KEYS = {\r\n    ENTER: 'Enter',\r\n    TAB: 'Tab',\r\n    BACKSPACE: 'Backspace',\r\n    UP_ARROW: 'ArrowUp',\r\n    UP_ARROW_COMPAT: 'Up',\r\n    DOWN_ARROW: 'ArrowDown',\r\n    DOWN_ARROW_COMPAT: 'Down'\r\n  };\r\n\r\n  var CLASS_NAMES = {\r\n    root: 'react-tags',\r\n    rootFocused: 'is-focused',\r\n    selected: 'react-tags__selected',\r\n    selectedTag: 'react-tags__selected-tag',\r\n    selectedTagName: 'react-tags__selected-tag-name',\r\n    search: 'react-tags__search',\r\n    searchWrapper: 'react-tags__search-wrapper',\r\n    searchInput: 'react-tags__search-input',\r\n    suggestions: 'react-tags__suggestions',\r\n    suggestionActive: 'is-active',\r\n    suggestionDisabled: 'is-disabled',\r\n    suggestionPrefix: 'react-tags__suggestion-prefix'\r\n  };\r\n\r\n  function findMatchIndex (options, query) {\r\n    return options.findIndex(function (option) { return matchExact(query).test(option.name); })\r\n  }\r\n\r\n  function pressDelimiter () {\r\n    if (this.state.query.length >= this.props.minQueryLength) {\r\n      // Check if the user typed in an existing suggestion.\r\n      var match = findMatchIndex(this.state.options, this.state.query);\r\n      var index = this.state.index === -1 ? match : this.state.index;\r\n      var tag = index > -1 ? this.state.options[index] : null;\r\n\r\n      if (tag) {\r\n        this.addTag(tag);\r\n      } else if (this.props.allowNew) {\r\n        this.addTag({ name: this.state.query });\r\n      }\r\n    }\r\n  }\r\n\r\n  function pressUpKey (e) {\r\n    e.preventDefault();\r\n\r\n    // if first item, cycle to the bottom\r\n    var size = this.state.options.length - 1;\r\n    this.setState({ index: this.state.index <= 0 ? size : this.state.index - 1 });\r\n  }\r\n\r\n  function pressDownKey (e) {\r\n    e.preventDefault();\r\n\r\n    // if last item, cycle to top\r\n    var size = this.state.options.length - 1;\r\n    this.setState({ index: this.state.index >= size ? 0 : this.state.index + 1 });\r\n  }\r\n\r\n  function pressBackspaceKey () {\r\n    // when backspace key is pressed and query is blank, delete the last tag\r\n    if (!this.state.query.length) {\r\n      this.deleteTag(this.props.tags.length - 1);\r\n    }\r\n  }\r\n\r\n  function defaultSuggestionsFilter (item, query) {\r\n    var regexp = matchPartial(query);\r\n    return regexp.test(item.name)\r\n  }\r\n\r\n  function getOptions (props, state) {\r\n    var options;\r\n\r\n    if (props.suggestionsTransform) {\r\n      options = props.suggestionsTransform(state.query, props.suggestions);\r\n    } else {\r\n      options = props.suggestions.filter(function (item) { return props.suggestionsFilter(item, state.query); });\r\n    }\r\n\r\n    options = options.slice(0, props.maxSuggestionsLength);\r\n\r\n    if (props.allowNew && props.newTagText && findMatchIndex(options, state.query) === -1) {\r\n      options.push({ id: 0, name: state.query, prefix: props.newTagText, disableMarkIt: true });\r\n    } else if (props.noSuggestionsText && options.length === 0) {\r\n      options.push({ id: 0, name: props.noSuggestionsText, disabled: true, disableMarkIt: true });\r\n    }\r\n\r\n    return options\r\n  }\r\n\r\n  var ReactTags = /*@__PURE__*/(function (superclass) {\r\n    function ReactTags (props) {\r\n      superclass.call(this, props);\r\n\r\n      this.state = {\r\n        query: '',\r\n        focused: false,\r\n        index: -1\r\n      };\r\n\r\n      this.inputEventHandlers = {\r\n        // Provide a no-op function to the input component to avoid warnings\r\n        // <https://github.com/i-like-robots/react-tags/issues/135>\r\n        // <https://github.com/facebook/react/issues/13835>\r\n        onChange: function () {},\r\n        onBlur: this.onBlur.bind(this),\r\n        onFocus: this.onFocus.bind(this),\r\n        onInput: this.onInput.bind(this),\r\n        onKeyDown: this.onKeyDown.bind(this)\r\n      };\r\n\r\n      this.container = React__default['default'].createRef();\r\n      this.input = React__default['default'].createRef();\r\n    }\r\n\r\n    if ( superclass ) ReactTags.__proto__ = superclass;\r\n    ReactTags.prototype = Object.create( superclass && superclass.prototype );\r\n    ReactTags.prototype.constructor = ReactTags;\r\n\r\n    ReactTags.prototype.onInput = function onInput (e) {\r\n      var query = e.target.value;\r\n\r\n      if (this.props.onInput) {\r\n        this.props.onInput(query);\r\n      }\r\n\r\n      // NOTE: This test is a last resort for soft keyboards and browsers which do not\r\n      // support `KeyboardEvent.key`.\r\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=763559>\r\n      // <https://bugs.chromium.org/p/chromium/issues/detail?id=118639>\r\n      if (\r\n        query.length === this.state.query.length + 1 &&\r\n        this.props.delimiters.indexOf(query.slice(-1)) > -1\r\n      ) {\r\n        pressDelimiter.call(this);\r\n      } else if (query !== this.state.query) {\r\n        this.setState({ query: query });\r\n      }\r\n    };\r\n\r\n    ReactTags.prototype.onKeyDown = function onKeyDown (e) {\r\n      // when one of the terminating keys is pressed, add current query to the tags\r\n      if (this.props.delimiters.indexOf(e.key) > -1) {\r\n        if (this.state.query || this.state.index > -1) {\r\n          e.preventDefault();\r\n        }\r\n\r\n        pressDelimiter.call(this);\r\n      }\r\n\r\n      // when backspace key is pressed and query is blank, delete the last tag\r\n      if (e.key === KEYS.BACKSPACE && this.props.allowBackspace) {\r\n        pressBackspaceKey.call(this, e);\r\n      }\r\n\r\n      if (e.key === KEYS.UP_ARROW || e.key === KEYS.UP_ARROW_COMPAT) {\r\n        pressUpKey.call(this, e);\r\n      }\r\n\r\n      if (e.key === KEYS.DOWN_ARROW || e.key === KEYS.DOWN_ARROW_COMPAT) {\r\n        pressDownKey.call(this, e);\r\n      }\r\n    };\r\n\r\n    ReactTags.prototype.onClick = function onClick (e) {\r\n      if (document.activeElement !== e.target) {\r\n        this.focusInput();\r\n      }\r\n    };\r\n\r\n    ReactTags.prototype.onBlur = function onBlur () {\r\n      this.setState({ focused: false, index: -1 });\r\n\r\n      if (this.props.onBlur) {\r\n        this.props.onBlur();\r\n      }\r\n\r\n      if (this.props.addOnBlur) {\r\n        pressDelimiter.call(this);\r\n      }\r\n    };\r\n\r\n    ReactTags.prototype.onFocus = function onFocus () {\r\n      this.setState({ focused: true });\r\n\r\n      if (this.props.onFocus) {\r\n        this.props.onFocus();\r\n      }\r\n    };\r\n\r\n    ReactTags.prototype.onDeleteTag = function onDeleteTag (index, event) {\r\n      // Because we'll destroy the element with cursor focus we need to ensure\r\n      // it does not get lost and move it to the next interactive element\r\n      if (this.container.current) {\r\n        focusNextElement(this.container.current, event.currentTarget);\r\n      }\r\n\r\n      this.deleteTag(index);\r\n    };\r\n\r\n    ReactTags.prototype.addTag = function addTag (tag) {\r\n      if (tag.disabled) {\r\n        return\r\n      }\r\n\r\n      if (typeof this.props.onValidate === 'function' && !this.props.onValidate(tag)) {\r\n        return\r\n      }\r\n\r\n      this.props.onAddition({ id: tag.id, name: tag.name });\r\n\r\n      this.clearInput();\r\n    };\r\n\r\n    ReactTags.prototype.deleteTag = function deleteTag (i) {\r\n      this.props.onDelete(i);\r\n    };\r\n\r\n    ReactTags.prototype.clearInput = function clearInput () {\r\n      this.setState({\r\n        query: '',\r\n        index: -1\r\n      });\r\n    };\r\n\r\n    ReactTags.prototype.clearSelectedIndex = function clearSelectedIndex () {\r\n      this.setState({ index: -1 });\r\n    };\r\n\r\n    ReactTags.prototype.focusInput = function focusInput () {\r\n      if (this.input.current && this.input.current.input.current) {\r\n        this.input.current.input.current.focus();\r\n      }\r\n    };\r\n\r\n    ReactTags.prototype.render = function render () {\r\n      var this$1$1 = this;\r\n\r\n      var TagComponent = this.props.tagComponent || Tag;\r\n\r\n      var expanded = this.state.focused && this.state.query.length >= this.props.minQueryLength;\r\n      var classNames = Object.assign({}, CLASS_NAMES, this.props.classNames);\r\n      var rootClassNames = [classNames.root];\r\n\r\n      this.state.focused && rootClassNames.push(classNames.rootFocused);\r\n\r\n      return (\r\n        React__default['default'].createElement( 'div', { ref: this.container, className: rootClassNames.join(' '), onClick: this.onClick.bind(this) },\r\n          React__default['default'].createElement( 'div', {\r\n            className: classNames.selected, 'aria-relevant': 'additions removals', 'aria-live': 'polite' },\r\n            this.props.tags.map(function (tag, i) { return (\r\n              React__default['default'].createElement( TagComponent, {\r\n                key: i, tag: tag, removeButtonText: this$1$1.props.removeButtonText, classNames: classNames, onDelete: this$1$1.onDeleteTag.bind(this$1$1, i) })\r\n            ); })\r\n          ),\r\n          React__default['default'].createElement( 'div', { className: classNames.search },\r\n            React__default['default'].createElement( Input, Object.assign({},\r\n              this.state, { id: this.props.id, ref: this.input, classNames: classNames, inputAttributes: this.props.inputAttributes, inputEventHandlers: this.inputEventHandlers, autoresize: this.props.autoresize, expanded: expanded, placeholderText: this.props.placeholderText, ariaLabelText: this.props.ariaLabelText })),\r\n            expanded && this.state.options.length\r\n              ? React__default['default'].createElement( Suggestions, Object.assign({},\r\n                  this.state, { id: this.props.id, classNames: classNames, expanded: expanded, addTag: this.addTag.bind(this), suggestionComponent: this.props.suggestionComponent }))\r\n              : null\r\n          )\r\n        )\r\n      )\r\n    };\r\n\r\n    ReactTags.getDerivedStateFromProps = function getDerivedStateFromProps (props, state) {\r\n      if (state.prevQuery !== state.query || state.prevSuggestions !== props.suggestions) {\r\n        return {\r\n          prevQuery: state.query,\r\n          prevSuggestions: props.suggestions,\r\n          options: getOptions(props, state)\r\n        }\r\n      }\r\n\r\n      return null\r\n    };\r\n\r\n    return ReactTags;\r\n  }(React__default['default'].Component));\r\n\r\n  ReactTags.defaultProps = {\r\n    id: 'ReactTags',\r\n    tags: [],\r\n    placeholderText: 'Add new tag',\r\n    removeButtonText: 'Click to remove tag',\r\n    noSuggestionsText: null,\r\n    newTagText: null,\r\n    suggestions: [],\r\n    suggestionsFilter: defaultSuggestionsFilter,\r\n    suggestionsTransform: null,\r\n    autoresize: true,\r\n    classNames: CLASS_NAMES,\r\n    delimiters: [KEYS.TAB, KEYS.ENTER],\r\n    minQueryLength: 2,\r\n    maxSuggestionsLength: 6,\r\n    allowNew: false,\r\n    allowBackspace: true,\r\n    addOnBlur: false,\r\n    tagComponent: null,\r\n    suggestionComponent: null,\r\n    inputAttributes: {}\r\n  };\r\n\r\n  ReactTags.propTypes = {\r\n    id: PropTypes__default['default'].string,\r\n    tags: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),\r\n    placeholderText: PropTypes__default['default'].string,\r\n    ariaLabelText: PropTypes__default['default'].string,\r\n    removeButtonText: PropTypes__default['default'].string,\r\n    noSuggestionsText: PropTypes__default['default'].string,\r\n    newTagText: PropTypes__default['default'].string,\r\n    suggestions: PropTypes__default['default'].arrayOf(PropTypes__default['default'].object),\r\n    suggestionsFilter: PropTypes__default['default'].func,\r\n    suggestionsTransform: PropTypes__default['default'].func,\r\n    autoresize: PropTypes__default['default'].bool,\r\n    delimiters: PropTypes__default['default'].arrayOf(PropTypes__default['default'].string),\r\n    onDelete: PropTypes__default['default'].func.isRequired,\r\n    onAddition: PropTypes__default['default'].func.isRequired,\r\n    onInput: PropTypes__default['default'].func,\r\n    onFocus: PropTypes__default['default'].func,\r\n    onBlur: PropTypes__default['default'].func,\r\n    onValidate: PropTypes__default['default'].func,\r\n    minQueryLength: PropTypes__default['default'].number,\r\n    maxSuggestionsLength: PropTypes__default['default'].number,\r\n    classNames: PropTypes__default['default'].object,\r\n    allowNew: PropTypes__default['default'].bool,\r\n    allowBackspace: PropTypes__default['default'].bool,\r\n    addOnBlur: PropTypes__default['default'].bool,\r\n    tagComponent: PropTypes__default['default'].oneOfType([\r\n      PropTypes__default['default'].func,\r\n      PropTypes__default['default'].element\r\n    ]),\r\n    suggestionComponent: PropTypes__default['default'].oneOfType([\r\n      PropTypes__default['default'].func,\r\n      PropTypes__default['default'].element\r\n    ]),\r\n    inputAttributes: PropTypes__default['default'].object\r\n  };\r\n\r\n  return ReactTags;\r\n\r\n})));\r\n"]},"metadata":{},"sourceType":"script"}