{"ast":null,"code":"import _objectSpread from \"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\39333\\\\Desktop\\\\CrowdPulse2.0-main\\\\frontend\\\\src\\\\components\\\\Table\\\\TweetsTable.js\",\n    _this = this;\n\nimport React, { useState } from \"react\";\nimport \"./table.css\";\nimport Table from \".\";\nimport jsPDF from 'jspdf';\nimport 'jspdf-autotable';\nimport XLSX from 'xlsx';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar exportData = [];\nvar columns = [{\n  title: \"username\",\n  field: \"author_username\"\n}, {\n  title: \"text\",\n  field: \"raw_text\"\n}, {\n  title: \"genre\",\n  field: \"genre_classification\"\n}, {\n  title: \"tags\",\n  field: \"tags\"\n}];\n\nvar setData = function setData(props) {\n  var i = 0;\n\n  while (i < props.data.length) {\n    exportData.push({\n      author_username: props.data[i].author_username,\n      raw_text: props.data[i].raw_text,\n      genre: printGenre(props.data[i]),\n      tags: printTags(props.data[i])\n    });\n    i++;\n  }\n};\n\nvar downloadExcel = function downloadExcel() {\n  var newData = exportData.map(function (row) {\n    delete row.tableData;\n    return row;\n  });\n  var workSheet = XLSX.utils.json_to_sheet(newData);\n  var workBook = XLSX.utils.book_new();\n  XLSX.utils.book_append_sheet(workBook, workSheet, \"students\"); //Buffer\n\n  XLSX.write(workBook, {\n    bookType: \"xlsx\",\n    type: \"buffer\"\n  }); //Binary string\n\n  XLSX.write(workBook, {\n    bookType: \"xlsx\",\n    type: \"binary\"\n  }); //Download\n\n  XLSX.writeFile(workBook, \"TweetData.xlsx\");\n};\n\nvar printGenre = function printGenre(data) {\n  var genre;\n\n  if (data.genre !== undefined) {\n    genre = data.genre_classification.roberta.genre;\n    return genre;\n  } else {\n    return \"\";\n  }\n};\n\nvar printTags = function printTags(data) {\n  var i = 0;\n  var temp;\n  var tags = [];\n\n  if (data.tags !== undefined) {\n    while (i < data.tags.tag_me.length) {\n      temp = data.tags.tag_me[i].split(\" : \");\n      tags = tags + \",\" + temp[0];\n      i++;\n    }\n\n    return tags;\n  } else {\n    return \"\";\n  }\n};\n\nvar downloadPdf = function downloadPdf() {\n  var doc = new jsPDF('landscape');\n  console.log(exportData);\n  doc.text(\"Tweet Details\", 20, 10);\n  doc.autoTable({\n    theme: \"grid\",\n    columns: columns.map(function (col) {\n      return _objectSpread(_objectSpread({}, col), {}, {\n        dataKey: col.field\n      });\n    }),\n    body: exportData\n  });\n  doc.save('table.pdf');\n};\n\nvar DisplayTable = function DisplayTable(props) {\n  setData(props);\n  return /*#__PURE__*/_jsxDEV(\"main\", {\n    className: \"container_table\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button activeButton\",\n      onClick: function onClick() {\n        downloadPdf();\n      },\n      children: \" Export Table\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"button activeButton\",\n      onClick: function onClick() {\n        downloadExcel();\n      },\n      children: \" Export Excel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 12\n    }, _this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 17\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"wrapper_table\",\n      children: /*#__PURE__*/_jsxDEV(Table, {\n        data: props.data,\n        rowsPerPage: 100\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 104,\n    columnNumber: 5\n  }, _this);\n};\n\n_c = DisplayTable;\nexport default DisplayTable;\n\nvar _c;\n\n$RefreshReg$(_c, \"DisplayTable\");","map":{"version":3,"sources":["C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/src/components/Table/TweetsTable.js"],"names":["React","useState","Table","jsPDF","XLSX","exportData","columns","title","field","setData","props","i","data","length","push","author_username","raw_text","genre","printGenre","tags","printTags","downloadExcel","newData","map","row","tableData","workSheet","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","type","writeFile","undefined","genre_classification","roberta","temp","tag_me","split","downloadPdf","doc","console","log","text","autoTable","theme","col","dataKey","body","save","DisplayTable"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\n\nimport \"./table.css\";\nimport Table from \".\";\nimport jsPDF from 'jspdf'\nimport 'jspdf-autotable'\nimport XLSX from 'xlsx'\n\nvar exportData=[];\nconst columns = [\n  { title: \"username\", field: \"author_username\", },\n  { title: \"text\", field: \"raw_text\", },\n  { title: \"genre\", field: \"genre_classification\", },\n  { title: \"tags\", field: \"tags\",  }]\n\nconst setData = (props) =>{\n \n  var i = 0\n  while (i<props.data.length) {\n    exportData.push({\n      author_username:props.data[i].author_username,\n      raw_text:props.data[i].raw_text,\n      genre:printGenre(props.data[i]),\n      tags:printTags(props.data[i])\n    })\n    i++\n  }  \n}\n\nconst downloadExcel = () => {\n  const newData = exportData.map(row => {\n    delete row.tableData\n    return row\n  })\n  const workSheet = XLSX.utils.json_to_sheet(newData)\n  const workBook = XLSX.utils.book_new()\n  XLSX.utils.book_append_sheet(workBook, workSheet, \"students\")\n  //Buffer\n  XLSX.write(workBook, { bookType: \"xlsx\", type: \"buffer\" })\n  //Binary string\n  XLSX.write(workBook, { bookType: \"xlsx\", type: \"binary\" })\n  //Download\n  XLSX.writeFile(workBook, \"TweetData.xlsx\")\n\n\n}\n\n\n  const printGenre = (data) =>{\n\n    var genre\n    \n    if(data.genre!==undefined){\n        \n      genre = data.genre_classification.roberta.genre\n      return genre\n\n    }else{\n      return(\"\")\n    }\n\n  }\n\n  const printTags = (data) =>{\n    var i = 0\n    var temp \n     var tags = []\n    \n     if(data.tags!==undefined){\n\n     while(i<data.tags.tag_me.length){\n        temp = data.tags.tag_me[i].split(\" : \")\n        tags = tags+\",\"+temp[0]\n        i++\n    }\n    return tags\n\n     }else{\n       return(\n         \"\"\n       )\n     }\n  \n    \n  }\n\nconst downloadPdf = () => {\n  const doc = new jsPDF('landscape')\n\n  console.log(exportData)\n  doc.text(\"Tweet Details\", 20, 10)\n  doc.autoTable({\n    theme: \"grid\",\n    columns: columns.map(col => ({ ...col, dataKey: col.field })),\n    body: exportData\n  })\n  doc.save('table.pdf')\n}\n\nconst DisplayTable = (props) => {\n  setData(props)\n  return (\n    <main className=\"container_table\">\n      <button className='button activeButton' onClick={() => {downloadPdf()}} > Export Table</button>\n      <button className='button activeButton' onClick={() => {downloadExcel()}} > Export Excel</button>\n      <br/><br/><br/>\n      <div className=\"wrapper_table\">\n        <Table data={props.data} rowsPerPage={100} />\n      </div>\n    </main>\n  );\n};\n\nexport default DisplayTable;"]},"metadata":{},"sourceType":"module"}