{"ast":null,"code":"import _classCallCheck from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import Filters from'./Filters/TimeLinesFilters';import React from'react';import TimeLineChart from'./Charts/TimeLineChart';import PreLoader from\"./preloader\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TweetList=/*#__PURE__*/function(_React$Component){_inherits(TweetList,_React$Component);var _super=_createSuper(TweetList);function TweetList(props){var _this;_classCallCheck(this,TweetList);_this=_super.call(this,props);_this.handleQuery=function(data){_this.setState({data:data});_this.state.data=data;_this.state.totalTweets=data.length;_this.query();_this.setState({flag:1});};_this.query=function(){var dataGroupByDates=[{id:null,counter:null}];var i=0;var j=0;if(_this.state.data.length!==0){var dt=_this.state.data[0].created_at.substring(0,10);dataGroupByDates[0].id=dt;while(i<_this.state.data.length){if(dataGroupByDates[j].id===_this.state.data[i].created_at.substring(0,10)){dataGroupByDates[j].counter++;}else{j++;dataGroupByDates.push({id:_this.state.data[i].created_at.substring(0,10),counter:0});}i++;}}_this.setState({dataGroupByDates:dataGroupByDates});_this.state.dataGroupByDates=dataGroupByDates;};_this.state={totalTweets:0,flagType:0,counter:[],data:[],dataGroupByDates:[],flag:0};return _this;}_createClass(TweetList,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.db!==this.props.db){this.setState({flag:0});}}},{key:\"render\",value:function render(){var body;if(this.state.flag>0){body=/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart\",children:/*#__PURE__*/_jsx(TimeLineChart,{data:this.state.dataGroupByDates})})})});}else{body=/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-lg-12\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chart\",children:[\" \",/*#__PURE__*/_jsx(PreLoader,{})]})})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"main-wrapper\",children:[/*#__PURE__*/_jsx(\"main\",{className:\"main users chart-page\",id:\"skip-target\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"CrowdPulse\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Time Line - \",this.props.mongodb,\" \"]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Filters,{parentCallback:this.handleQuery.bind(this),db:this.props.db,tweetsData:this.props.allTweetsData}),/*#__PURE__*/_jsx(\"br\",{}),body]})}),/*#__PURE__*/_jsx(\"footer\",{className:\"footer\",style:{background:'blue'},children:/*#__PURE__*/_jsx(\"div\",{className:\"container footer--flex\",children:/*#__PURE__*/_jsx(\"div\",{className:\"footer-start\",children:/*#__PURE__*/_jsx(\"p\",{children:\"2021 \\xA9 Giovanni Tempesta \"})})})})]});}}]);return TweetList;}(React.Component);export default TweetList;","map":{"version":3,"sources":["C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/src/components/TimeLines.js"],"names":["Filters","React","TimeLineChart","PreLoader","TweetList","props","handleQuery","data","setState","state","totalTweets","length","query","flag","dataGroupByDates","id","counter","i","j","dt","created_at","substring","push","flagType","prevProps","db","body","mongodb","bind","allTweetsData","background","Component"],"mappings":"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","sourcesContent":["import Filters from './Filters/TimeLinesFilters';\nimport React from 'react';\nimport TimeLineChart from './Charts/TimeLineChart';\nimport PreLoader from \"./preloader\";\n\n\nclass TweetList extends React.Component {\n    constructor (props) {\n        super(props)\n        this.state = {\n          totalTweets: 0,\n          flagType: 0,\n          counter : [],\n          data: [],\n          dataGroupByDates:[],\n          flag:0\n\n      }\n      \n      \n    }\n\n    componentDidUpdate(prevProps) {\n      if(prevProps.db!==this.props.db){\n        this.setState({flag:0})\n      }\n      \n    }\n\n    handleQuery = (data) => {\n    \n      this.setState({data:data})\n      this.state.data = data\n      this.state.totalTweets = data.length\n      this.query()\n      this.setState({flag:1})\n    \n    }\n  \n\n      query = () =>{\n        var dataGroupByDates=[{\n          id:null,\n          counter:null\n        }]\n\n        var i = 0\n        var j = 0\n        \n        if(this.state.data.length!==0){\n          var dt = this.state.data[0].created_at.substring(0, 10)\n          dataGroupByDates[0].id=dt\n\n          while(i<this.state.data.length){\n\n            if(dataGroupByDates[j].id===this.state.data[i].created_at.substring(0, 10)){\n              dataGroupByDates[j].counter++\n            }else{\n                j++\n                dataGroupByDates.push({\n                  id :this.state.data[i].created_at.substring(0, 10),\n                  counter:0\n                })\n           \n            }\n            i++\n          }\n          \n        }\n\n        this.setState({dataGroupByDates : dataGroupByDates})\n        this.state.dataGroupByDates=dataGroupByDates\n        \n      }\n   \n    \n      render () {\n        var body;\n\n        if(this.state.flag>0){\n          body=            <div className=\"row\">\n          <div className=\"col-lg-12\">\n            <div className=\"chart\">\n              <TimeLineChart data={this.state.dataGroupByDates}/>\n            </div>\n          </div>\n\n        </div>\n        }else{\n          body=\n          <div className=\"row\">\n            <div className=\"col-lg-12\">\n            <div className=\"chart\"> <PreLoader/></div>\n          </div>\n          </div>\n        }\n          return(\n        <div className=\"main-wrapper\">\n        {/* ! Main */}\n        <main className=\"main users chart-page\" id=\"skip-target\">\n          <div className=\"container\">\n            <h1>CrowdPulse</h1>\n            <br/>\n            <h3>Time Line - {this.props.mongodb} </h3>\n            <br/>\n           <Filters  parentCallback = {this.handleQuery.bind(this)} db={this.props.db} tweetsData={this.props.allTweetsData} /> \n            <br/>\n            {body}\n\n          </div>\n        </main>\n        {/* ! Footer */}\n        <footer className=\"footer\" style={{ background: 'blue' }}>\n          <div className=\"container footer--flex\">\n            <div className=\"footer-start\">\n              <p>2021 Â© Giovanni Tempesta </p>\n            </div>\n          </div>\n        </footer>\n      </div>\n      )\n      }\n\n}\nexport default TweetList"]},"metadata":{},"sourceType":"module"}