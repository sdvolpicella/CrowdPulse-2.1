{"ast":null,"code":"import _classCallCheck from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _assertThisInitialized from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import ReactTags from'react-tag-autocomplete';import'./css/searchbar.css';import axios from'axios';//https://www.npmjs.com/package/react-tag-autocomplete\nimport{jsx as _jsx}from\"react/jsx-runtime\";var SearchFilters=/*#__PURE__*/function(_React$Component){_inherits(SearchFilters,_React$Component);var _super=_createSuper(SearchFilters);function SearchFilters(props){var _this;_classCallCheck(this,SearchFilters);_this=_super.call(this,props);_this.getTags=function(){var i=0;var j=0;var k=0;var data=_this.props.allTags.data;var temp;var tempSuggestion=[];var strings=[];while(i<data.length){j=0;if(data[i]._id!==undefined&&data[i]._id!==null){while(j<data[i]._id.tag_me.length){temp=data[i]._id.tag_me[j].split(\" : \");if(strings.indexOf(temp[0])>-1){}else{tempSuggestion[k]={id:temp[1],name:temp[0]};strings.push(temp[0]);}k++;j++;}}i++;}_this.state.suggestions=tempSuggestion;_this.setState({suggestions:tempSuggestion});_this.reactTags=/*#__PURE__*/React.createRef();};_this.sendData=function(tags){_this.props.parentCallback(tags);};_this.sendData=_this.sendData.bind(_assertThisInitialized(_this));_this.state={tags:[],suggestions:[]};_this.getTags();return _this;}_createClass(SearchFilters,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.mongodb!==this.props.mongodb){this.getTags();}}},{key:\"onDelete\",value:function onDelete(i){var tags=this.state.tags.slice(0);tags.splice(i,1);this.setState({tags:tags});this.sendData(tags);}},{key:\"onAddition\",value:function onAddition(tag){var tags=[].concat(this.state.tags,tag);this.setState({tags:tags});this.sendData(tags);}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(ReactTags,{ref:this.reactTags,tags:this.state.tags,suggestions:this.state.suggestions,onDelete:this.onDelete.bind(this),onAddition:this.onAddition.bind(this),allowNew:true,classNames:\"search\"});}}]);return SearchFilters;}(React.Component);export default SearchFilters;","map":{"version":3,"sources":["C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/src/components/Filters/SearchFilters.js"],"names":["React","ReactTags","axios","SearchFilters","props","getTags","i","j","k","data","allTags","temp","tempSuggestion","strings","length","_id","undefined","tag_me","split","indexOf","id","name","push","state","suggestions","setState","reactTags","createRef","sendData","tags","parentCallback","bind","prevProps","mongodb","slice","splice","tag","concat","onDelete","onAddition","Component"],"mappings":"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","sourcesContent":["import React from 'react'\nimport ReactTags from 'react-tag-autocomplete'\nimport './css/searchbar.css';\nimport axios from 'axios';\n\n\n//https://www.npmjs.com/package/react-tag-autocomplete\nclass SearchFilters extends React.Component {\n  constructor (props) {\n    super(props)\n    this.sendData = this.sendData.bind(this)\n    this.state = {\n      tags: [     \n      ],\n      suggestions: [\n       \n      ]\n    }\n  \n    this.getTags();\n         \n  }\n\n  getTags = () =>{\n    \n\n    var i = 0;\n    var j = 0;\n    var k =0;\n    const data = this.props.allTags.data;\n    \n    var temp ;\n    var tempSuggestion = [];\n    var strings = [];\n\n\n    while(i<data.length){\n      j=0;\n      \n      if(data[i]._id!==undefined&&data[i]._id!==null){\n        \n        while(j<data[i]._id.tag_me.length){\n          \n          temp=data[i]._id.tag_me[j].split(\" : \")\n\n          if(strings.indexOf(temp[0])>-1){\n\n          }else{\n            tempSuggestion[k] = {\n              id:temp[1],\n              name: temp[0]\n            };\n            strings.push(temp[0])\n          }\n\n\n          k++;\n          j++;\n        }\n      }\n        i++;  \n    }\n    \n    \n    this.state.suggestions = tempSuggestion\n    this.setState({suggestions: tempSuggestion})\n\n    \n   \n     \n \n\n\nthis.reactTags = React.createRef()\n\n  }\n\n\n  componentDidUpdate(prevProps) {\n    if(prevProps.mongodb!==this.props.mongodb){\n      this.getTags();\n    }\n    \n  }\n\n\n  \n\n  sendData = (tags) =>{\n    this.props.parentCallback(tags);\n  }\n\n  onDelete (i) {\n    const tags = this.state.tags.slice(0)\n    tags.splice(i, 1)\n    this.setState({ tags })\n    this.sendData(tags)\n  }\n\n  onAddition (tag) {\n    const tags = [].concat(this.state.tags, tag)\n    this.setState({ tags })\n    this.sendData(tags)\n  }\n\n  render () {\n    return (\n     \n      <ReactTags\n        ref={this.reactTags}\n        tags={this.state.tags}\n        suggestions={this.state.suggestions}\n        onDelete={this.onDelete.bind(this)}\n        onAddition={this.onAddition.bind(this)} \n        allowNew={true}\n        classNames=\"search\"\n        />\n     \n\n    )\n  }\n}\n\n\nexport default SearchFilters"]},"metadata":{},"sourceType":"module"}