{"ast":null,"code":"import _objectSpread from\"C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import React,{useState}from\"react\";import\"./table.css\";import Table from\".\";import jsPDF from'jspdf';import'jspdf-autotable';import XLSX from'xlsx';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var exportData=[];var columns=[{title:\"username\",field:\"author_username\"},{title:\"text\",field:\"raw_text\"},{title:\"tags\",field:\"tags\"}];var setData=function setData(props){var i=0;while(i<props.data.length){exportData.push({author_username:props.data[i].author_username,raw_text:props.data[i].raw_text,tags:printTags(props.data[i])});i++;}};var downloadExcel=function downloadExcel(){var newData=exportData.map(function(row){delete row.tableData;return row;});var workSheet=XLSX.utils.json_to_sheet(newData);var workBook=XLSX.utils.book_new();XLSX.utils.book_append_sheet(workBook,workSheet,\"students\");//Buffer\nXLSX.write(workBook,{bookType:\"xlsx\",type:\"buffer\"});//Binary string\nXLSX.write(workBook,{bookType:\"xlsx\",type:\"binary\"});//Download\nXLSX.writeFile(workBook,\"TweetData.xlsx\");};var printTags=function printTags(data){var i=0;var temp;var tags=[];if(data.tags!==undefined){while(i<data.tags.tag_me.length){temp=data.tags.tag_me[i].split(\" : \");tags=tags+\",\"+temp[0];i++;}return tags;}else{return\"\";}};var downloadPdf=function downloadPdf(){var doc=new jsPDF('landscape');console.log(exportData);doc.text(\"Tweet Details\",20,10);doc.autoTable({theme:\"grid\",columns:columns.map(function(col){return _objectSpread(_objectSpread({},col),{},{dataKey:col.field});}),body:exportData});doc.save('table.pdf');};var DisplayTable=function DisplayTable(props){setData(props);return/*#__PURE__*/_jsxs(\"main\",{className:\"container_table\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"button activeButton\",onClick:function onClick(){downloadPdf();},children:\" Export Table\"}),/*#__PURE__*/_jsx(\"button\",{className:\"button activeButton\",onClick:function onClick(){downloadExcel();},children:\" Export Excel\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"wrapper_table\",children:/*#__PURE__*/_jsx(Table,{data:props.data,rowsPerPage:100})})]});};export default DisplayTable;","map":{"version":3,"sources":["C:/Users/39333/Desktop/CrowdPulse2.0-main/frontend/src/components/Table/TweetsTable.js"],"names":["React","useState","Table","jsPDF","XLSX","exportData","columns","title","field","setData","props","i","data","length","push","author_username","raw_text","tags","printTags","downloadExcel","newData","map","row","tableData","workSheet","utils","json_to_sheet","workBook","book_new","book_append_sheet","write","bookType","type","writeFile","temp","undefined","tag_me","split","downloadPdf","doc","console","log","text","autoTable","theme","col","dataKey","body","save","DisplayTable"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\n\n\nimport \"./table.css\";\nimport Table from \".\";\nimport jsPDF from 'jspdf'\nimport 'jspdf-autotable'\nimport XLSX from 'xlsx'\n\nvar exportData=[];\nconst columns = [\n  { title: \"username\", field: \"author_username\", },\n  { title: \"text\", field: \"raw_text\", },\n  { title: \"tags\", field: \"tags\",  }]\n\nconst setData = (props) =>{\n \n  var i = 0\n  while (i<props.data.length) {\n    exportData.push({\n      author_username:props.data[i].author_username,\n      raw_text:props.data[i].raw_text,\n      tags:printTags(props.data[i])\n    })\n    i++\n  }  \n}\n\nconst downloadExcel = () => {\n  const newData = exportData.map(row => {\n    delete row.tableData\n    return row\n  })\n  const workSheet = XLSX.utils.json_to_sheet(newData)\n  const workBook = XLSX.utils.book_new()\n  XLSX.utils.book_append_sheet(workBook, workSheet, \"students\")\n  //Buffer\n  XLSX.write(workBook, { bookType: \"xlsx\", type: \"buffer\" })\n  //Binary string\n  XLSX.write(workBook, { bookType: \"xlsx\", type: \"binary\" })\n  //Download\n  XLSX.writeFile(workBook, \"TweetData.xlsx\")\n\n\n}\n\n\n\n\n  const printTags = (data) =>{\n    var i = 0\n    var temp \n     var tags = []\n    \n     if(data.tags!==undefined){\n\n     while(i<data.tags.tag_me.length){\n        temp = data.tags.tag_me[i].split(\" : \")\n        tags = tags+\",\"+temp[0]\n        i++\n    }\n    return tags\n\n     }else{\n       return(\n         \"\"\n       )\n     }\n  \n    \n  }\n\nconst downloadPdf = () => {\n  const doc = new jsPDF('landscape')\n\n  console.log(exportData)\n  doc.text(\"Tweet Details\", 20, 10)\n  doc.autoTable({\n    theme: \"grid\",\n    columns: columns.map(col => ({ ...col, dataKey: col.field })),\n    body: exportData\n  })\n  doc.save('table.pdf')\n}\n\nconst DisplayTable = (props) => {\n  setData(props)\n  return (\n    <main className=\"container_table\">\n      <button className='button activeButton' onClick={() => {downloadPdf()}} > Export Table</button>\n      <button className='button activeButton' onClick={() => {downloadExcel()}} > Export Excel</button>\n      <br/><br/><br/>\n      <div className=\"wrapper_table\">\n        <Table data={props.data} rowsPerPage={100} />\n      </div>\n    </main>\n  );\n};\n\nexport default DisplayTable;"]},"metadata":{},"sourceType":"module"}